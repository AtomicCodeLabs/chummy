{"map":{"version":3,"sources":["17-6a9bcc35bbf4eddc7d2c.js"],"names":["window","push","dB9c","module","__webpack_exports__","__webpack_require__","r","index_esm_a","MessageType","dist_index_esm","util_dist_index_esm","tslib_es6","idb","app_dist_index_esm","ERROR_MAP","ERROR_FACTORY","DEFAULT_VAPID_KEY","arrayToBase64","array","uint8Array","Uint8Array","btoa","String","fromCharCode","apply","Object","replace","base64ToArray","base64String","base64","repeat","length","rawData","atob","outputArray","i","charCodeAt","migrateOldDatabase","senderId","this","databases","tokenDetails","_this","_a","label","indexedDB","sent","map","db","name","includes","objectStore","value","oldDetails","_b","oldVersion","objectStoreNames","contains","transaction","index","get","clear","auth","p256dh","endpoint","token","fcmToken","createTime","Date","now","subscriptionOptions","swScope","vapidKey","close","checkTokenDetails","OBJECT_STORE_NAME","dbPromise","getDbPromise","upgradeDb","createObjectStore","dbGet","firebaseDependencies","key","oldTokenDetails","getKey","appConfig","dbSet","tx","put","complete","dbRemove","delete","appId","requestGetToken","headers","body","subscribeOptions","responseData","err_1","message","getHeaders","getBody","method","JSON","stringify","trys","fetch","getEndpoint","json","create","errorInfo","error","requestUpdateToken","updateOptions","err_2","requestDeleteToken","unsubscribeOptions","err_3","ENDPOINT","projectId","installations","authToken","getToken","Headers","Content-Type","Accept","x-goog-api-key","apiKey","x-goog-firebase-installations-auth","web","applicationPubKey","swRegistration","pushSubscription","e_1","Notification","permission","getPushSubscription","scope","getNewToken","dbOptions","isVapidKeyEqual","currentOptions","isEndpointEqual","isAuthEqual","isP256dhEqual","console","warn","updateToken","deleteToken","pushManager","getSubscription","unsubscribe","updatedToken","updatedTokenDetails","e_2","subscription","subscribe","userVisibleOnly","applicationServerKey","isConsoleMessage","data","sleep","ms","Promise","resolve","setTimeout","index_esm_SwController","SwController","isOnBackgroundMessageUsed","bgMessageHandler","self","addEventListener","e","waitUntil","onPush","onSubChange","onNotificationClick","defineProperty","prototype","app","enumerable","configurable","setBackgroundMessageHandler","callback","onBackgroundMessage","nextOrObserver","_c","registration","requestPermission","usePublicVapidKey","useServiceWorker","onMessage","onTokenRefresh","event","internalPayload","clientList","isNotificationShown","payload","err","getMessagePayloadInternal","getClientList","debug","TAG","some","client","visibilityState","url","startsWith","hasVisibleClients","sendMessagePayloadInternalToWindows","notification","showNotification","wrapInternalPayload","from","collapseKey","collapse_key","messagePayloadInternal","title","image","propagateNotificationPayload","propagateDataPayload","fcmOptions","link","analyticsLabel","analytics_label","propagateFcmOptions","externalizePayload","next","newSubscription","originUrl","action","stopImmediatePropagation","click_action","location","origin","getLink","URL","href","host","getWindowClient","clients","openWindow","focus","messageType","NOTIFICATION_CLICKED","isFirebaseMessaging","postMessage","wrappedInternalPayload","clientList_1","clientList_1_1","clientUrl","done","e_1_1","return","call","PUSH_RECEIVED","clientList_2","clientList_2_1","e_2_1","matchAll","type","includeUncontrolled","notificationPayloadInternal","actions","maxActions","index_esm_WindowController","WindowController","onMessageCallback","navigator","serviceWorker","messageEventListener","dataPayload","stripInternalFields","assign","logEvent","getVapidKey","getSwReg","options","updateVapidKey","updateSwReg","serviceWorkerRegistration","registerDefaultSw","ServiceWorkerRegistration","register","update","catch","browserErrorMessage","permissionResult","eventType","Error","getEventType","analyticsProvider","message_id","message_name","message_time","message_device_time","Math","floor","getMissingValueError","valueName","NAMESPACE_EXPORTS","isSupported","hasOwnProperty","PushSubscription","cookieEnabled","INTERNAL","registerComponent","container","getProvider","getImmediate","configKeys_1","configKeys_1_1","keyName","appName","messagingSenderId","extractAppConfig","setServiceProps"],"mappings":"CAACA,OAAqB,aAAIA,OAAqB,cAAK,IAAIC,KAAK,CAAC,CAAC,IAAI,CAE7DC,KACA,SAAUC,EAAQC,EAAqBC,GAE7C,aAEAA,EAAoBC,EAAEF,GAGNC,EAAoB,QAApC,IAyCIE,EAyFAC,EA/HAC,EAAiBJ,EAAoB,QAGrCK,EAAsBL,EAAoB,QAG1CM,EAAYN,EAAoB,QAGhCO,EAAMP,EAAoB,QAG1BQ,EAAqBR,EAAoB,QA4BzCS,IAAaP,EAAc,IAAgB,6BAE3C,kDAAmDA,EAAY,4BAE/D,gDAAiDA,EAAY,wBAE7D,wDAAyDA,EAAY,sBAErE,qEAAsEA,EAAY,sBAElF,mEAAoEA,EAAY,uBAEhF,2EAA4EA,EAAY,sCAExF,+EAAgFA,EAAY,0BAE5F,qEAAsEA,EAAY,4BAElF,2DAA4DA,EAAY,4BAExE,yEAA+EA,EAAY,uBAE3F,oEAAqEA,EAAY,yBAEjF,wDAAyDA,EAAY,0BAErE,4IAAkJA,EAAY,2BAE9J,uEAAwEA,EAAY,sBAEpF,iEAAkEA,EAAY,qBAE9E,yCAA0CA,EAAY,iCAEtD,wIAA8IA,GAC9IQ,EAAgB,IAAIL,EAA0C,EAAE,YAAa,YAAaI,GAoB1FE,EAAoB,0FAwDxB,SAASC,EAAcC,GACrB,IAAIC,EAAa,IAAIC,WAAWF,GAEhC,OADmBG,KAAKC,OAAOC,aAAaC,MAAMF,OAAQG,OAAOd,EAA4B,EAAnCc,CAAsCN,KAC5EO,QAAQ,KAAM,IAAIA,QAAQ,MAAO,KAAKA,QAAQ,MAAO,KAG3E,SAASC,EAAcC,GAMrB,IALA,IACIC,GAAUD,EADA,IAAIE,QAAQ,EAAIF,EAAaG,OAAS,GAAK,IACnBL,QAAQ,MAAO,KAAKA,QAAQ,KAAM,KACpEM,EAAUC,KAAKJ,GACfK,EAAc,IAAId,WAAWY,EAAQD,QAEhCI,EAAI,EAAGA,EAAIH,EAAQD,SAAUI,EACpCD,EAAYC,GAAKH,EAAQI,WAAWD,GAGtC,OAAOD,GAtCT,SAAW1B,GACTA,EAA2B,cAAI,gBAC/BA,EAAkC,qBAAI,uBAFxC,CAGGA,IAAgBA,EAAc,KAgEjC,SAAS6B,EAAmBC,GAC1B,OAAOb,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAIC,EAAoBC,EAEpBC,EAAQH,KAEZ,OAAOd,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUI,GAC9D,OAAQA,EAAGC,OACT,KAAK,EACH,MAAM,cAAeC,UAGd,CAAC,EAENA,UAAUL,aAL4B,CAAC,EAEvC,GAKJ,KAAK,EAMH,GALAA,EAAYG,EAAGG,QACLN,EAAUO,KAAI,SAAUC,GAChC,OAAOA,EAAGC,QAGCC,SA/BL,wBAiCN,MAAO,CAAC,EAEN,MAGJP,EAAGC,MAAQ,EAEb,KAAK,EAEH,OADAH,EAAe,KACR,CAAC,EAENhB,OAAOb,EAAY,OAAnBa,CA5CM,uBAMG,GAsC0C,SAAUuB,GAC7D,OAAOvB,OAAOd,EAA6B,EAApCc,CAAuCiB,OAAO,OAAQ,GAAQ,WACnE,IAAIS,EAAaC,EAA+BC,EAE5CV,EAEJ,OAAOlB,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUe,GAC9D,OAAQA,EAAGV,OACT,KAAK,EACH,OAAII,EAAGO,WAAa,EAEX,CAAC,GAKLP,EAAGQ,iBAAiBC,SArDjB,0BA6DD,CAAC,GADRN,EAAcH,EAAGU,YAAYP,YA5DrB,2BA+DMQ,MAAM,eAAeC,IAAItB,IAR9B,CAAC,GAUZ,KAAK,EAEH,OADAc,EAAQE,EAAGR,OACJ,CAAC,EAENK,EAAYU,SAEhB,KAAK,EAGH,GAFAP,EAAGR,QAEEM,EAEH,MAAO,CAAC,GAKV,GAAsB,IAAlBJ,EAAGO,WAAkB,CAGvB,KAFAF,EAAaD,GAEGU,OAAST,EAAWU,SAAWV,EAAWW,SACxD,MAAO,CAAC,GAKVvB,EAAe,CACbwB,MAAOZ,EAAWa,SAClBC,WAA6C,QAAhCxB,EAAKU,EAAWc,kBAA+B,IAAPxB,EAAgBA,EAAKyB,KAAKC,MAC/EC,oBAAqB,CACnBR,KAAMT,EAAWS,KACjBC,OAAQV,EAAWU,OACnBC,SAAUX,EAAWW,SACrBO,QAASlB,EAAWkB,QACpBC,SAAyC,iBAAxBnB,EAAWmB,SAAwBnB,EAAWmB,SAAWvD,EAAcoC,EAAWmB,iBAG5E,IAAlBxB,EAAGO,YAae,IAAlBP,EAAGO,cAXZd,EAAe,CACbwB,OAFFZ,EAAaD,GAEOc,SAClBC,WAAYd,EAAWc,WACvBG,oBAAqB,CACnBR,KAAM7C,EAAcoC,EAAWS,MAC/BC,OAAQ9C,EAAcoC,EAAWU,QACjCC,SAAUX,EAAWW,SACrBO,QAASlB,EAAWkB,QACpBC,SAAUvD,EAAcoC,EAAWmB,aAkBzC,MAAO,CAAC,cAQpB,KAAK,EAIH,OAHK7B,EAAGG,OACL2B,QAEI,CAAC,EAENhD,OAAOb,EAAc,SAArBa,CAtJM,yBAwJV,KAAK,EAIH,OAFAkB,EAAGG,OAEI,CAAC,EAENrB,OAAOb,EAAc,SAArBa,CAAwB,yBAE5B,KAAK,EAGH,OAFAkB,EAAGG,OAEI,CAAC,EAENrB,OAAOb,EAAc,SAArBa,CAAwB,cAE5B,KAAK,EAGH,OAFAkB,EAAGG,OAEI,CAAC,EAEN4B,EAAkBjC,GAAgBA,EAAe,aAM7D,SAASiC,EAAkBjC,GACzB,IAAKA,IAAiBA,EAAa6B,oBACjC,OAAO,EAGT,IAAIA,EAAsB7B,EAAa6B,oBACvC,MAA0C,iBAA5B7B,EAAa0B,YAA2B1B,EAAa0B,WAAa,GAAmC,iBAAvB1B,EAAawB,OAAsBxB,EAAawB,MAAMlC,OAAS,GAAyC,iBAA7BuC,EAAoBR,MAAqBQ,EAAoBR,KAAK/B,OAAS,GAA2C,iBAA/BuC,EAAoBP,QAAuBO,EAAoBP,OAAOhC,OAAS,GAA6C,iBAAjCuC,EAAoBN,UAAyBM,EAAoBN,SAASjC,OAAS,GAA4C,iBAAhCuC,EAAoBC,SAAwBD,EAAoBC,QAAQxC,OAAS,GAA6C,iBAAjCuC,EAAoBE,UAAyBF,EAAoBE,SAASzC,OAAS,EAqB1mB,IAEI4C,EAAoB,2BACpBC,EAAY,KAEhB,SAASC,IAcP,OAbKD,IACHA,EAAYnD,OAAOb,EAAY,OAAnBa,CAPI,8BACG,GAMgD,SAAUqD,GAK3E,OAAQA,EAAUvB,YAChB,KAAK,EACHuB,EAAUC,kBAAkBJ,QAK7BC,EAKT,SAASI,EAAMC,GACb,OAAOxD,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAI2C,EAASzC,EAAc0C,EAC3B,OAAO1D,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUI,GAC9D,OAAQA,EAAGC,OACT,KAAK,EAEH,OADAsC,EAAME,EAAOH,GACN,CAAC,EAENJ,KAEJ,KAAK,EAEH,MAAO,CAAC,EADHlC,EAAGG,OAGHY,YAAYiB,GAAmBxB,YAAYwB,GAAmBf,IAAIsB,IAEzE,KAAK,EAEH,OADAzC,EAAeE,EAAGG,QAIX,CAAC,EAENL,GALwB,CAAC,EAEzB,GAKJ,KAAK,EACH,MAAO,CAAC,EAENJ,EAAmB4C,EAAqBI,UAAU/C,WAEtD,KAAK,EAEH,OADA6C,EAAkBxC,EAAGG,QAId,CAAC,EAENwC,EAAML,EAAsBE,IALD,CAAC,EAE5B,GAKJ,KAAK,EAGH,OAFAxC,EAAGG,OAEI,CAAC,EAENqC,GAEJ,KAAK,EACH,MAAO,CAAC,UAUlB,SAASG,EAAML,EAAsBxC,GACnC,OAAOhB,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAI2C,EAAKlC,EAAIuC,EACb,OAAO9D,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUI,GAC9D,OAAQA,EAAGC,OACT,KAAK,EAEH,OADAsC,EAAME,EAAOH,GACN,CAAC,EAENJ,KAEJ,KAAK,EAGH,OAFA7B,EAAKL,EAAGG,OAED,CAAC,GADRyC,EAAKvC,EAAGU,YAAYiB,EAAmB,cAGlCxB,YAAYwB,GAAmBa,IAAI/C,EAAcyC,IAExD,KAAK,EAGH,OAFAvC,EAAGG,OAEI,CAAC,EAENyC,EAAGE,UAEP,KAAK,EAGH,OAFA9C,EAAGG,OAEI,CAAC,EAENL,UAQZ,SAASiD,EAAST,GAChB,OAAOxD,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAI2C,EAAKlC,EAAIuC,EACb,OAAO9D,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUI,GAC9D,OAAQA,EAAGC,OACT,KAAK,EAEH,OADAsC,EAAME,EAAOH,GACN,CAAC,EAENJ,KAEJ,KAAK,EAGH,OAFA7B,EAAKL,EAAGG,OAED,CAAC,GADRyC,EAAKvC,EAAGU,YAAYiB,EAAmB,cAGlCxB,YAAYwB,GAAmBgB,OAAOT,IAE7C,KAAK,EAGH,OAFAvC,EAAGG,OAEI,CAAC,EAENyC,EAAGE,UAEP,KAAK,EAGH,OAFA9C,EAAGG,OAEI,CAAC,UAQlB,SAASsC,EAAOzC,GAEd,OADgBA,EAAG0C,UACFO,MAoBnB,SAASC,EAAgBZ,EAAsBX,GAC7C,OAAO7C,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAIuD,EAASC,EAAMC,EAAkBC,EAAwBC,EAAOC,EACpE,OAAO1E,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUI,GAC9D,OAAQA,EAAGC,OACT,KAAK,EACH,MAAO,CAAC,EAENwD,EAAWnB,IAEf,KAAK,EACHa,EAAUnD,EAAGG,OACbiD,EAAOM,EAAQ/B,GACf0B,EAAmB,CACjBM,OAAQ,OACRR,QAASA,EACTC,KAAMQ,KAAKC,UAAUT,IAEvBpD,EAAGC,MAAQ,EAEb,KAAK,EAGH,OAFAD,EAAG8D,KAAKxG,KAAK,CAAC,EAAG,EAAE,CAAE,IAEd,CAAC,EAENyG,MAAMC,EAAY1B,EAAqBI,WAAYW,IAEvD,KAAK,EAEH,MAAO,CAAC,EADGrD,EAAGG,OAGH8D,QAEb,KAAK,EAEH,OADAX,EAAetD,EAAGG,OACX,CAAC,EAEN,GAEJ,KAAK,EAEH,MADAoD,EAAQvD,EAAGG,OACL/B,EAAc8F,OAAO,yBAEzB,CACAC,UAAWZ,IAGf,KAAK,EACH,GAAID,EAAac,MAEf,MADAZ,EAAUF,EAAac,MAAMZ,QACvBpF,EAAc8F,OAAO,yBAEzB,CACAC,UAAWX,IAIf,IAAKF,EAAahC,MAChB,MAAMlD,EAAc8F,OAAO,4BAK7B,MAAO,CAAC,EAENZ,EAAahC,cAMzB,SAAS+C,EAAmB/B,EAAsBxC,GAChD,OAAOhB,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAIuD,EAASC,EAAMkB,EAAehB,EAAwBiB,EAAOf,EACjE,OAAO1E,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUI,GAC9D,OAAQA,EAAGC,OACT,KAAK,EACH,MAAO,CAAC,EAENwD,EAAWnB,IAEf,KAAK,EACHa,EAAUnD,EAAGG,OACbiD,EAAOM,EAAQ5D,EAAa6B,qBAC5B2C,EAAgB,CACdX,OAAQ,QACRR,QAASA,EACTC,KAAMQ,KAAKC,UAAUT,IAEvBpD,EAAGC,MAAQ,EAEb,KAAK,EAGH,OAFAD,EAAG8D,KAAKxG,KAAK,CAAC,EAAG,EAAE,CAAE,IAEd,CAAC,EAENyG,MAAMC,EAAY1B,EAAqBI,WAAa,IAAM5C,EAAawB,MAAOgD,IAElF,KAAK,EAEH,MAAO,CAAC,EADGtE,EAAGG,OAGH8D,QAEb,KAAK,EAEH,OADAX,EAAetD,EAAGG,OACX,CAAC,EAEN,GAEJ,KAAK,EAEH,MADAoE,EAAQvE,EAAGG,OACL/B,EAAc8F,OAAO,sBAEzB,CACAC,UAAWI,IAGf,KAAK,EACH,GAAIjB,EAAac,MAEf,MADAZ,EAAUF,EAAac,MAAMZ,QACvBpF,EAAc8F,OAAO,sBAEzB,CACAC,UAAWX,IAIf,IAAKF,EAAahC,MAChB,MAAMlD,EAAc8F,OAAO,yBAK7B,MAAO,CAAC,EAENZ,EAAahC,cAMzB,SAASkD,EAAmBlC,EAAsBhB,GAChD,OAAOxC,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAIuD,EAASsB,EAA8BnB,EAAcE,EAASkB,EAClE,OAAO5F,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUI,GAC9D,OAAQA,EAAGC,OACT,KAAK,EACH,MAAO,CAAC,EAENwD,EAAWnB,IAEf,KAAK,EACHa,EAAUnD,EAAGG,OACbsE,EAAqB,CACnBd,OAAQ,SACRR,QAASA,GAEXnD,EAAGC,MAAQ,EAEb,KAAK,EAGH,OAFAD,EAAG8D,KAAKxG,KAAK,CAAC,EAAG,EAAE,CAAE,IAEd,CAAC,EAENyG,MAAMC,EAAY1B,EAAqBI,WAAa,IAAMpB,EAAOmD,IAErE,KAAK,EAEH,MAAO,CAAC,EADGzE,EAAGG,OAGH8D,QAEb,KAAK,EAGH,IAFAX,EAAetD,EAAGG,QAEDiE,MAEf,MADAZ,EAAUF,EAAac,MAAMZ,QACvBpF,EAAc8F,OAAO,2BAEzB,CACAC,UAAWX,IAIf,MAAO,CAAC,EAEN,GAEJ,KAAK,EAEH,MADAkB,EAAQ1E,EAAGG,OACL/B,EAAc8F,OAAO,2BAEzB,CACAC,UAAWO,IAGf,KAAK,EACH,MAAO,CAAC,UAQlB,SAASV,EAAYhE,GAEnB,MAAO2E,uDADS3E,EAAG4E,UAC0B,iBAG/C,SAASnB,EAAWzD,GAClB,IAAI0C,EAAY1C,EAAG0C,UACfmC,EAAgB7E,EAAG6E,cACvB,OAAO/F,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAIkF,EACJ,OAAOhG,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUe,GAC9D,OAAQA,EAAGV,OACT,KAAK,EACH,MAAO,CAAC,EAEN4E,EAAcE,YAElB,KAAK,EAEH,OADAD,EAAYnE,EAAGR,OACR,CAAC,EAEN,IAAI6E,QAAQ,CACZC,eAAgB,mBAChBC,OAAQ,mBACRC,iBAAkBzC,EAAU0C,OAC5BC,qCAAsC,OAASP,YAO3D,SAASpB,EAAQ1D,GACf,IAAIoB,EAASpB,EAAGoB,OACZD,EAAOnB,EAAGmB,KACVE,EAAWrB,EAAGqB,SACdQ,EAAW7B,EAAG6B,SACduB,EAAO,CACTkC,IAAK,CACHjE,SAAUA,EACVF,KAAMA,EACNC,OAAQA,IAQZ,OAJIS,IAAaxD,IACf+E,EAAKkC,IAAIC,kBAAoB1D,GAGxBuB,EAwBT,SAAS2B,EAASzC,EAAsBkD,EAAgB3D,GACtD,OAAO/C,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAI6F,EAAkB3F,EAAc6B,EAAqB+D,EACzD,OAAO5G,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUI,GAC9D,OAAQA,EAAGC,OACT,KAAK,EACH,GAAgC,YAA5B0F,aAAaC,WACf,MAAMxH,EAAc8F,OAAO,sBAK7B,MAAO,CAAC,EAEN2B,EAAoBL,EAAgB3D,IAExC,KAAK,EAEH,OADA4D,EAAmBzF,EAAGG,OACf,CAAC,EAENkC,EAAMC,IAEV,KAAK,EASH,OARAxC,EAAeE,EAAGG,OAClBwB,EAAsB,CACpBE,SAAUA,EACVD,QAAS4D,EAAeM,MACxBzE,SAAUoE,EAAiBpE,SAC3BF,KAAM7C,EAAcmH,EAAiBhD,OAAO,SAC5CrB,OAAQ9C,EAAcmH,EAAiBhD,OAAO,YAE1C3C,EAAqB,CAAC,EAE1B,GAEK,CAAC,EAENiG,EAAYzD,EAAsBX,IAEtC,KAAK,EACH,GA8OYqE,EA9OOlG,EAAa6B,oBA+OpCsE,GAD2BC,EA9O8BvE,GA+OxBE,WAAamE,EAAUnE,SACxDsE,EAAkBD,EAAe7E,WAAa2E,EAAU3E,SACxD+E,EAAcF,EAAe/E,OAAS6E,EAAU7E,KAChDkF,EAAgBH,EAAe9E,SAAW4E,EAAU5E,OACjD6E,GAAmBE,GAAmBC,GAAeC,EAnPuB,MAAO,CAAC,EAEjF,GACFrG,EAAGC,MAAQ,EAEb,KAAK,EAGH,OAFAD,EAAG8D,KAAKxG,KAAK,CAAC,EAAG,EAAE,CAAE,IAEd,CAAC,EAENkH,EAAmBlC,EAAsBxC,EAAawB,QAE1D,KAAK,EAGH,OAFAtB,EAAGG,OAEI,CAAC,EAEN,GAEJ,KAAK,EAIH,OAHAuF,EAAM1F,EAAGG,OAETmG,QAAQC,KAAKb,GACN,CAAC,EAEN,GAEJ,KAAK,EACH,MAAO,CAAC,EAENK,EAAYzD,EAAsBX,IAEtC,KAAK,EACH,OAAIF,KAAKC,OAAS5B,EAAa0B,WA3Ef,OA6EP,CAAC,EAENgF,EAAY,CACZlF,MAAOxB,EAAawB,MACpBE,WAAYC,KAAKC,MACjBC,oBAAqBA,GACpBW,EAAsBkD,IAGlB,CAAC,EAEN1F,EAAawB,OAGnB,KAAK,EACH,MAAO,CAAC,GA4LlB,IAAsB0E,EAAWE,EAC3BD,EACAE,EACAC,EACAC,QAnLN,SAASI,EAAYnE,EAAsBkD,GACzC,OAAO1G,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAIE,EAAc2F,EAClB,OAAO3G,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUI,GAC9D,OAAQA,EAAGC,OACT,KAAK,EACH,MAAO,CAAC,EAENoC,EAAMC,IAEV,KAAK,EAEH,OADAxC,EAAeE,EAAGG,QAIX,CAAC,EAENqE,EAAmBlC,EAAsBxC,EAAawB,QAL9B,CAAC,EAEzB,GAKJ,KAAK,EAGH,OAFAtB,EAAGG,OAEI,CAAC,EAEN4C,EAAST,IAEb,KAAK,EACHtC,EAAGG,OAEHH,EAAGC,MAAQ,EAEb,KAAK,EACH,MAAO,CAAC,EAENuF,EAAekB,YAAYC,mBAE/B,KAAK,EAGH,OAFAlB,EAAmBzF,EAAGG,QAGb,CAAC,EAENsF,EAAiBmB,eAId,CAAC,GAEN,UAMZ,SAASJ,EAAY1G,EAAcwC,EAAsBkD,GACvD,OAAO1G,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAIiH,EAAcC,EAAqBC,EACvC,OAAOjI,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUI,GAC9D,OAAQA,EAAGC,OACT,KAAK,EAGH,OAFAD,EAAG8D,KAAKxG,KAAK,CAAC,EAAG,EAAE,CAAE,IAEd,CAAC,EAEN+G,EAAmB/B,EAAsBxC,IAE7C,KAAK,EAMH,OALA+G,EAAe7G,EAAGG,OAClB2G,EAAsBhI,OAAOd,EAA4B,EAAnCc,CAAsCA,OAAOd,EAA4B,EAAnCc,CAAsC,GAAIgB,GAAe,CACnHwB,MAAOuF,EACPrF,WAAYC,KAAKC,QAEZ,CAAC,EAENiB,EAAML,EAAsBwE,IAEhC,KAAK,EAGH,OAFA9G,EAAGG,OAEI,CAAC,EAEN0G,GAEJ,KAAK,EAEH,OADAE,EAAM/G,EAAGG,OACF,CAAC,EAENsG,EAAYnE,EAAsBkD,IAEtC,KAAK,EAGH,MAFAxF,EAAGG,OAEG4G,EAER,KAAK,EACH,MAAO,CAAC,UAQlB,SAAShB,EAAYzD,EAAsBX,GACzC,OAAO7C,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAI0B,EAAOxB,EACX,OAAOhB,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUI,GAC9D,OAAQA,EAAGC,OACT,KAAK,EACH,MAAO,CAAC,EAENiD,EAAgBZ,EAAsBX,IAE1C,KAAK,EAOH,OANAL,EAAQtB,EAAGG,OACXL,EAAe,CACbwB,MAAOA,EACPE,WAAYC,KAAKC,MACjBC,oBAAqBA,GAEhB,CAAC,EAENgB,EAAML,EAAsBxC,IAEhC,KAAK,EAGH,OAFAE,EAAGG,OAEI,CAAC,EAENL,EAAawB,cAUzB,SAASuE,EAAoBL,EAAgB3D,GAC3C,OAAO/C,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAIoH,EACJ,OAAOlI,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUI,GAC9D,OAAQA,EAAGC,OACT,KAAK,EACH,MAAO,CAAC,EAENuF,EAAekB,YAAYC,mBAE/B,KAAK,EAGH,OAFAK,EAAehH,EAAGG,QAGT,CAAC,EAEN6G,GAGG,CAAC,EAENxB,EAAekB,YAAYO,UAAU,CACrCC,iBAAiB,EAGjBC,qBAAsBnI,EAAc6C,aAsHhD,SAASuF,EAAiBC,GAExB,MAAuB,iBAATA,KAAuBA,GA9mCb,oBA8mC4CA,EAsBtE,SAASC,EAAMC,GACb,OAAO,IAAIC,SAAQ,SAAUC,GAC3BC,WAAWD,EAASF,MAqBxB,IAAII,EAEJ,WACE,SAASC,EAAatF,GACpB,IAAIvC,EAAQH,KAEZA,KAAK0C,qBAAuBA,EAK5B1C,KAAKiI,0BAA4B,KACjCjI,KAAKiC,SAAW,KAChBjC,KAAKkI,iBAAmB,KACxBC,KAAKC,iBAAiB,QAAQ,SAAUC,GACtCA,EAAEC,UAAUnI,EAAMoI,OAAOF,OAE3BF,KAAKC,iBAAiB,0BAA0B,SAAUC,GACxDA,EAAEC,UAAUnI,EAAMqI,YAAYH,OAEhCF,KAAKC,iBAAiB,qBAAqB,SAAUC,GACnDA,EAAEC,UAAUnI,EAAMsI,oBAAoBJ,OAiX1C,OA7WAnJ,OAAOwJ,eAAeV,EAAaW,UAAW,MAAO,CACnDtH,IAAK,WACH,OAAOrB,KAAK0C,qBAAqBkG,KAEnCC,YAAY,EACZC,cAAc,IAkBhBd,EAAaW,UAAUI,4BAA8B,SAAUC,GAG7D,GAFAhJ,KAAKiI,2BAA4B,GAE5Be,GAAgC,mBAAbA,EACtB,MAAMxK,EAAc8F,OAAO,sBAK7BtE,KAAKkI,iBAAmBc,GAG1BhB,EAAaW,UAAUM,oBAAsB,SAAUC,GACrD,IAAI/I,EAAQH,KAIZ,OAFAA,KAAKiI,2BAA4B,EACjCjI,KAAKkI,iBAAmBgB,EACjB,WACL/I,EAAM+H,iBAAmB,OAM7BF,EAAaW,UAAUxD,SAAW,WAChC,IAAI/E,EAAIW,EAER,OAAO7B,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAIE,EACJ,OAAOhB,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUmJ,GAC9D,OAAQA,EAAG9I,OACT,KAAK,EACH,OAAML,KAAKiC,SAAiB,CAAC,EAE3B,GACK,CAAC,EAENQ,EAAMzC,KAAK0C,uBAEf,KAAK,EACHxC,EAAeiJ,EAAG5I,OAClBP,KAAKiC,SAA2K,QAA/JlB,EAA6G,QAAvGX,EAAKF,MAAAA,OAAmD,EAASA,EAAa6B,2BAAwC,IAAP3B,OAAgB,EAASA,EAAG6B,gBAA6B,IAAPlB,EAAgBA,EAAKtC,EAC7M0K,EAAG9I,MAAQ,EAEb,KAAK,EACH,MAAO,CAAC,EAEN8E,EAASnF,KAAK0C,qBAAsByF,KAAKiB,aAAcpJ,KAAKiC,mBAQxE+F,EAAaW,UAAU9B,YAAc,WACnC,OAAOA,EAAY7G,KAAK0C,qBAAsByF,KAAKiB,eAGrDpB,EAAaW,UAAUU,kBAAoB,WACzC,MAAM7K,EAAc8F,OAAO,6BAM7B0D,EAAaW,UAAUW,kBAAoB,SAAUrH,GACnD,GAAsB,OAAlBjC,KAAKiC,SACP,MAAMzD,EAAc8F,OAAO,iCAK7B,GAAwB,iBAAbrC,GAA6C,IAApBA,EAASzC,OAC3C,MAAMhB,EAAc8F,OAAO,qBAK7BtE,KAAKiC,SAAWA,GAGlB+F,EAAaW,UAAUY,iBAAmB,WACxC,MAAM/K,EAAc8F,OAAO,6BAK7B0D,EAAaW,UAAUa,UAAY,WACjC,MAAMhL,EAAc8F,OAAO,6BAK7B0D,EAAaW,UAAUc,eAAiB,WACtC,MAAMjL,EAAc8F,OAAO,6BAgB7B0D,EAAaW,UAAUJ,OAAS,SAAUmB,GACxC,OAAOxK,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAI2J,EAAiBC,EAAYC,EAAqBC,EACtD,OAAO5K,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUI,GAC9D,OAAQA,EAAGC,OACT,KAAK,EAGH,OAFAsJ,EAgPZ,SAAmCvJ,GACjC,IAAIqH,EAAOrH,EAAGqH,KAEd,IAAKA,EACH,OAAO,KAGT,IACE,OAAOA,EAAKpD,OACZ,MAAO0F,GAEP,OAAO,MA3PmBC,CAA0BN,IASrC,CAAC,EAENO,MARAvD,QAAQwD,MAAMC,sGACP,CAAC,IASZ,KAAK,EAGH,OAwSZ,SAA2BP,GACzB,OAAOA,EAAWQ,MAAK,SAAUC,GAC/B,MAAkC,YAA3BA,EAAOC,kBAEbD,EAAOE,IAAIC,WAAW,0BA5SXC,CAFJb,EAAaxJ,EAAGG,QAGP,CAAC,EAENmK,EAAoCd,EAAYD,KAGpDE,GAAsB,EACfF,EAAgBgB,aAGhB,CAAC,EAENC,EAAiBC,EAAoBlB,KALK,CAAC,EAE3C,IAKJ,KAAK,EACHvJ,EAAGG,OAEHsJ,GAAsB,EACtBzJ,EAAGC,MAAQ,EAEb,KAAK,EAGH,OAA4B,IAAxBwJ,IAAmE,IAAnC7J,KAAKiI,0BAChC,CAAC,IAKJjI,KAAKkI,mBACT4B,EApVd,SAA4BH,GAC1B,IAAIG,EAAU,CACZgB,KAAMnB,EAAgBmB,KAEtBC,YAAapB,EAAgBqB,cAK/B,OAGF,SAAsClB,EAASmB,GAC7C,IAAKA,EAAuBN,aAC1B,OAGFb,EAAQa,aAAe,GACvB,IAAIO,EAAQD,EAAuBN,aAAaO,MAE1CA,IACJpB,EAAQa,aAAaO,MAAQA,GAG/B,IAAI1H,EAAOyH,EAAuBN,aAAanH,KAEzCA,IACJsG,EAAQa,aAAanH,KAAOA,GAG9B,IAAI2H,EAAQF,EAAuBN,aAAaQ,MAE1CA,IACJrB,EAAQa,aAAaQ,MAAQA,GA3B/BC,CAA6BtB,EAASH,GA+BxC,SAA8BG,EAASmB,GACrC,IAAKA,EAAuBxD,KAC1B,OAGFqC,EAAQrC,KAAOwD,EAAuBxD,KAnCtC4D,CAAqBvB,EAASH,GAsChC,SAA6BG,EAASmB,GACpC,IAAKA,EAAuBK,WAC1B,OAGFxB,EAAQwB,WAAa,GACrB,IAAIC,EAAON,EAAuBK,WAAWC,KAEvCA,IACJzB,EAAQwB,WAAWC,KAAOA,GAI5B,IAAIC,EAAiBP,EAAuBK,WAAWG,gBAEjDD,IACJ1B,EAAQwB,WAAWE,eAAiBA,GArDtCE,CAAoB5B,EAASH,GACtBG,EA2Ue6B,CAAmBhC,GAEQ,mBAA1B3J,KAAKkI,iBACdlI,KAAKkI,iBAAiB4B,GAEtB9J,KAAKkI,iBAAiB0D,KAAK9B,IAKxB,CAAC,EAENpC,EAn3CkC,OAq3CtC,KAAK,EAIH,OAFAtH,EAAGG,OAEI,CAAC,WAQlByH,EAAaW,UAAUH,YAAc,SAAUkB,GAC7C,IAAItJ,EAAIW,EAER,OAAO7B,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAqBE,EACrB,OAAOhB,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUmJ,GAC9D,OAAQA,EAAG9I,OACT,KAAK,EAEH,OADkBqJ,EAAMmC,gBACM,CAAC,EAE7B,GAEK,CAAC,EAENhF,EAAY7G,KAAK0C,qBAAsByF,KAAKiB,eAEhD,KAAK,EAIH,OAFAD,EAAG5I,OAEI,CAAC,GAIV,KAAK,EACH,MAAO,CAAC,EAENkC,EAAMzC,KAAK0C,uBAEf,KAAK,EAEH,OADAxC,EAAeiJ,EAAG5I,OACX,CAAC,EAENsG,EAAY7G,KAAK0C,qBAAsByF,KAAKiB,eAEhD,KAAK,EAGH,OAFAD,EAAG5I,OAEI,CAAC,EAEN4E,EAASnF,KAAK0C,qBAAsByF,KAAKiB,aAA8K,QAA/JrI,EAA6G,QAAvGX,EAAKF,MAAAA,OAAmD,EAASA,EAAa6B,2BAAwC,IAAP3B,OAAgB,EAASA,EAAG6B,gBAA6B,IAAPlB,EAAgBA,EAAKtC,IAExP,KAAK,EAGH,OAFA0K,EAAG5I,OAEI,CAAC,WAQlByH,EAAaW,UAAUF,oBAAsB,SAAUiB,GACrD,IAAItJ,EAAIW,EAER,OAAO7B,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAI2J,EAAiB4B,EAAMhB,EAAKuB,EAAWzB,EAC3C,OAAOnL,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUmJ,GAC9D,OAAQA,EAAG9I,OACT,KAAK,EAGH,OAFAsJ,EAAoG,QAAjF5I,EAAmC,QAA7BX,EAAKsJ,EAAMiB,oBAAiC,IAAPvK,OAAgB,EAASA,EAAGqH,YAAyB,IAAP1G,OAAgB,EAASA,EAAU,SAMpI2I,EAAMqC,OAGR,CAAC,IAMVrC,EAAMsC,2BACNtC,EAAMiB,aAAazI,SACnBqJ,EA0NZ,SAAiBzB,GACf,IAAI1J,EAAIW,EAAIoI,EAGRoC,EAAyF,QAAjFxK,EAAmC,QAA7BX,EAAK0J,EAAQwB,kBAA+B,IAAPlL,OAAgB,EAASA,EAAGmL,YAAyB,IAAPxK,EAAgBA,EAAqC,QAA/BoI,EAAKW,EAAQa,oBAAiC,IAAPxB,OAAgB,EAASA,EAAG8C,aAE9L,GAAIV,EACF,OAAOA,EAGT,OAAI/D,EAAiBsC,EAAQrC,MAEpBU,KAAK+D,SAASC,OAEd,KAxOQC,CAAQzC,KAQfY,EAAM,IAAI8B,IAAId,EAAMpD,KAAK+D,SAASI,MAClCR,EAAY,IAAIO,IAAIlE,KAAK+D,SAASC,QAE9B5B,EAAIgC,OAAST,EAAUS,KAClB,CAAC,GAKH,CAAC,EAENC,EAAgBjC,KAhBT,CAAC,IAjBD,CAAC,GAmCZ,KAAK,EAEH,OADAF,EAASlB,EAAG5I,QACS,CAAC,EAEpB,GACK,CAAC,EAEN4H,KAAKsE,QAAQC,WAAWnB,IAE5B,KAAK,EAIH,OAHAlB,EAASlB,EAAG5I,OAGL,CAAC,EAENmH,EAl/C8B,MAo/ClC,KAAK,EAKH,OAFAyB,EAAG5I,OAEI,CAAC,EAEN,GAEJ,KAAK,EACH,MAAO,CAAC,EAEN8J,EAAOsC,SAEX,KAAK,EACHtC,EAASlB,EAAG5I,OACZ4I,EAAG9I,MAAQ,EAEb,KAAK,EACH,OAAKgK,GAOLV,EAAgBiD,YAAc3O,EAAY4O,qBAC1ClD,EAAgBmD,qBAAsB,EAC/B,CAAC,EAENzC,EAAO0C,YAAYpD,KATZ,CAAC,WAeb3B,EApYT,GAuYA,SAAS6C,EAAoBlB,GAC3B,IAAIvJ,EAEA4M,EAAyB9N,OAAOd,EAA4B,EAAnCc,CAAsC,GAAIyK,EAAgBgB,cAMvF,OADAqC,EAAuBvF,OAAQrH,EAAK,IAAc,QAAIuJ,EAAiBvJ,GAChE4M,EAuBT,SAASR,EAAgBjC,GACvB,OAAOrL,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAI4J,EAAYqD,EAAcC,EAAgB7C,EAAQ8C,EAElDrH,EAAK1F,EAET,OAAOlB,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUe,GAC9D,OAAQA,EAAGV,OACT,KAAK,EACH,MAAO,CAAC,EAEN4J,KAEJ,KAAK,EACHL,EAAa7I,EAAGR,OAEhB,IACE,IAAK0M,EAAe/N,OAAOd,EAA4B,EAAnCc,CAAsC0K,GAAasD,EAAiBD,EAAarB,QAASsB,EAAeE,KAAMF,EAAiBD,EAAarB,OAI/J,GAHAvB,EAAS6C,EAAerM,MACxBsM,EAAY,IAAId,IAAIhC,EAAOE,IAAKpC,KAAK+D,SAASI,MAE1C/B,EAAIgC,OAASY,EAAUZ,KACzB,MAAO,CAAC,EAENlC,GAGN,MAAOgD,GACPvH,EAAM,CACJtB,MAAO6I,GAET,QACA,IACMH,IAAmBA,EAAeE,OAAShN,EAAK6M,EAAaK,SAASlN,EAAGmN,KAAKN,GAClF,QACA,GAAInH,EAAK,MAAMA,EAAItB,OAIvB,MAAO,CAAC,EAEN,aAmBZ,SAASkG,EAAoCd,EAAYD,GACvD,IAAIxC,EAAK/G,EAETuJ,EAAgBmD,qBAAsB,EACtCnD,EAAgBiD,YAAc3O,EAAYuP,cAE1C,IACE,IAAK,IAAIC,EAAevO,OAAOd,EAA4B,EAAnCc,CAAsC0K,GAAa8D,EAAiBD,EAAa7B,QAAS8B,EAAeN,KAAMM,EAAiBD,EAAa7B,OAAQ,CAC9J8B,EAAe7M,MACrBkM,YAAYpD,IAErB,MAAOgE,GACPxG,EAAM,CACJ3C,MAAOmJ,GAET,QACA,IACMD,IAAmBA,EAAeN,OAAShN,EAAKqN,EAAaH,SAASlN,EAAGmN,KAAKE,GAClF,QACA,GAAItG,EAAK,MAAMA,EAAI3C,QAKzB,SAASyF,IACP,OAAO9B,KAAKsE,QAAQmB,SAAS,CAC3BC,KAAM,SACNC,qBAAqB,IAKzB,SAASlD,EAAiBmD,GACxB,IAAI3N,EAIA4N,EAAUD,EAA4BC,QACtCC,EAAalI,aAAakI,WAM9B,OAJID,GAAWC,GAAcD,EAAQxO,OAASyO,GAC5CvH,QAAQC,KAAK,8BAAgCsH,EAAa,0DAGrD9F,KAAKiB,aAAawB,iBAEc,QAFIxK,EAE3C2N,EAA4B7C,aAA0B,IAAP9K,EAAgBA,EAAK,GAAI2N,GAsC1E,IAAIG,EAEJ,WACE,SAASC,EAAiBzL,GACxB,IAAIvC,EAAQH,KAEZA,KAAK0C,qBAAuBA,EAC5B1C,KAAKiC,SAAW,KAChBjC,KAAKoO,kBAAoB,KACzBC,UAAUC,cAAclG,iBAAiB,WAAW,SAAUC,GAC5D,OAAOlI,EAAMoO,qBAAqBlG,MA4YtC,OAxYAnJ,OAAOwJ,eAAeyF,EAAiBxF,UAAW,MAAO,CACvDtH,IAAK,WACH,OAAOrB,KAAK0C,qBAAqBkG,KAEnCC,YAAY,EACZC,cAAc,IAGhBqF,EAAiBxF,UAAU4F,qBAAuB,SAAU7E,GAC1D,OAAOxK,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAI2J,EAAiB6E,EACrB,OAAOtP,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUI,GAC9D,OAAQA,EAAGC,OACT,KAAK,EAGH,OAFAsJ,EAAkBD,EAAMjC,MAEHqF,qBASjB9M,KAAKoO,mBAAqBzE,EAAgBiD,cAAgB3O,EAAYuP,gBAClC,mBAA3BxN,KAAKoO,kBACdpO,KAAKoO,kBA6XrB,SAA6BzE,GAG3B,cAFOA,EAAgBiD,mBAChBjD,EAAgBmD,oBAChBnD,EAhY8B8E,CAAoBvP,OAAOwP,OAAO,GAAI/E,KAE7D3J,KAAKoO,kBAAkBxC,KAAK1M,OAAOwP,OAAO,GAAI/E,KAK5CnC,EADNgH,EAAc7E,EAAgBlC,OAC6D,MAApD+G,EArwDV,gBAwwDtB,CAAC,EAENxO,KAAK2O,SAAShF,EAAgBiD,YAAa4B,IAL2D,CAAC,EAEvG,IAnBO,CAAC,GAwBZ,KAAK,EACHpO,EAAGG,OAEHH,EAAGC,MAAQ,EAEb,KAAK,EACH,MAAO,CAAC,WAQlB8N,EAAiBxF,UAAUiG,YAAc,WACvC,OAAO5O,KAAKiC,UAGdkM,EAAiBxF,UAAUkG,SAAW,WACpC,OAAO7O,KAAK4F,gBAGduI,EAAiBxF,UAAUxD,SAAW,SAAU2J,GAC9C,OAAO5P,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,OAAOd,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUI,GAC9D,OAAQA,EAAGC,OACT,KAAK,EACH,MAAkC,YAA5B0F,aAAaC,WAAkC,CAAC,EAEpD,GACK,CAAC,EAEND,aAAasD,qBAEjB,KAAK,EACHjJ,EAAGG,OAEHH,EAAGC,MAAQ,EAEb,KAAK,EACH,GAAgC,YAA5B0F,aAAaC,WACf,MAAMxH,EAAc8F,OAAO,sBAK7B,MAAO,CAAC,EAENtE,KAAK+O,eAAeD,MAAAA,OAAyC,EAASA,EAAQ7M,WAElF,KAAK,EAGH,OAFA7B,EAAGG,OAEI,CAAC,EAENP,KAAKgP,YAAYF,MAAAA,OAAyC,EAASA,EAAQG,4BAE/E,KAAK,EAGH,OAFA7O,EAAGG,OAEI,CAAC,EAEN4E,EAASnF,KAAK0C,qBAAsB1C,KAAK4F,eAAgB5F,KAAKiC,mBAM1EkM,EAAiBxF,UAAUoG,eAAiB,SAAU9M,GACpD,OAAO/C,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,OAAOd,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUI,GAO9D,OANM6B,EACJjC,KAAKiC,SAAWA,EACNjC,KAAKiC,WACfjC,KAAKiC,SAAWxD,GAGX,CAAC,UAOd0P,EAAiBxF,UAAUqG,YAAc,SAAUpJ,GACjD,OAAO1G,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,OAAOd,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUI,GAC9D,OAAQA,EAAGC,OACT,KAAK,EACH,OAAOuF,GAAmB5F,KAAK4F,eAAwB,CAAC,EAEtD,GACK,CAAC,EAEN5F,KAAKkP,qBAET,KAAK,EACH9O,EAAGG,OAEHH,EAAGC,MAAQ,EAEb,KAAK,EACH,IAAKuF,GAAoB5F,KAAK4F,eAC5B,MAAO,CAAC,GAKV,KAAMA,aAA0BuJ,2BAC9B,MAAM3Q,EAAc8F,OAAO,2BAM7B,OADAtE,KAAK4F,eAAiBA,EACf,CAAC,WAQlBuI,EAAiBxF,UAAUuG,kBAAoB,WAC7C,OAAOhQ,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAII,EAAI0F,EAER,OAAO5G,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUe,GAC9D,OAAQA,EAAGV,OACT,KAAK,EAIH,OAHAU,EAAGmD,KAAKxG,KAAK,CAAC,EAAG,EAAE,CAAE,IAErB0C,EAAKJ,KACE,CAAC,EAENqO,UAAUC,cAAcc,SA35DhB,4BA25D0C,CAClDlJ,MA35DS,0CA85Db,KAAK,EAUH,OATA9F,EAAGwF,eAAiB7E,EAAGR,OAMvBP,KAAK4F,eAAeyJ,SAASC,OAAM,eAG5B,CAAC,EAEN,GAEJ,KAAK,EAEH,MADAxJ,EAAM/E,EAAGR,OACH/B,EAAc8F,OAAO,qCAEzB,CACAiL,oBAAqBzJ,EAAIlC,UAG7B,KAAK,EACH,MAAO,CAAC,WAQlBuK,EAAiBxF,UAAU9B,YAAc,WACvC,OAAO3H,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,OAAOd,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUI,GAC9D,OAAQA,EAAGC,OACT,KAAK,EACH,OAAML,KAAK4F,eAAuB,CAAC,EAEjC,GACK,CAAC,EAEN5F,KAAKkP,qBAET,KAAK,EACH9O,EAAGG,OAEHH,EAAGC,MAAQ,EAEb,KAAK,EACH,MAAO,CAAC,EAENwG,EAAY7G,KAAK0C,qBAAsB1C,KAAK4F,yBAexDuI,EAAiBxF,UAAUU,kBAAoB,WAC7C,OAAOnK,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAIwP,EACJ,OAAOtQ,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUI,GAC9D,OAAQA,EAAGC,OACT,KAAK,EACH,MAAgC,YAA5B0F,aAAaC,WACR,CAAC,GAKH,CAAC,EAEND,aAAasD,qBAEjB,KAAK,EAGH,GAAyB,aAFzBmG,EAAmBpP,EAAGG,QAGpB,MAAO,CAAC,GAGH,KAAyB,WAArBiP,EACHhR,EAAc8F,OAAO,sBAIrB9F,EAAc8F,OAAO,8BAevC6J,EAAiBxF,UAAUW,kBAAoB,SAAUrH,GACvD,GAAsB,OAAlBjC,KAAKiC,SACP,MAAMzD,EAAc8F,OAAO,iCAK7B,GAAwB,iBAAbrC,GAA6C,IAApBA,EAASzC,OAC3C,MAAMhB,EAAc8F,OAAO,qBAK7BtE,KAAKiC,SAAWA,GAQlBkM,EAAiBxF,UAAUY,iBAAmB,SAAU3D,GACtD,KAAMA,aAA0BuJ,2BAC9B,MAAM3Q,EAAc8F,OAAO,2BAK7B,GAAItE,KAAK4F,eACP,MAAMpH,EAAc8F,OAAO,0BAK7BtE,KAAK4F,eAAiBA,GASxBuI,EAAiBxF,UAAUa,UAAY,SAAUN,GAC/C,IAAI/I,EAAQH,KAGZ,OADAA,KAAKoO,kBAAoBlF,EAClB,WACL/I,EAAMiO,kBAAoB,OAI9BD,EAAiBxF,UAAUI,4BAA8B,WACvD,MAAMvK,EAAc8F,OAAO,yBAK7B6J,EAAiBxF,UAAUM,oBAAsB,WAC/C,MAAMzK,EAAc8F,OAAO,yBAU7B6J,EAAiBxF,UAAUc,eAAiB,WAC1C,OAAO,cAGT0E,EAAiBxF,UAAUgG,SAAW,SAAU/B,EAAanF,GAC3D,OAAOvI,OAAOd,EAA6B,EAApCc,CAAuCc,UAAM,OAAQ,GAAQ,WAClE,IAAIyP,EACJ,OAAOvQ,OAAOd,EAA+B,EAAtCc,CAAyCc,MAAM,SAAUI,GAC9D,OAAQA,EAAGC,OACT,KAAK,EAEH,OADAoP,EA2BZ,SAAsB7C,GACpB,OAAQA,GACN,KAAK3O,EAAY4O,qBACf,MAAO,oBAET,KAAK5O,EAAYuP,cACf,MAAO,0BAET,QACE,MAAM,IAAIkC,OApCQC,CAAa/C,GAClB,CAAC,EAEN5M,KAAK0C,qBAAqBkN,kBAAkBvO,OAEhD,KAAK,EAWH,OAVYjB,EAAGG,OACLoO,SAASc,EAAW,CAE5BI,WAAYpI,EA3lEA,mBA4lEZqI,aAAcrI,EA1lEA,kBA2lEdsI,aAActI,EA5lEA,iBA6lEduI,oBAAqBC,KAAKC,MAAMrO,KAAKC,MAAQ,OAIxC,CAAC,WAQXqM,EApZT,GAueA,SAASgC,EAAqBC,GAC5B,OAAO5R,EAAc8F,OAAO,4BAE1B,CACA8L,UAAWA,IAmDf,IAAIC,EAAoB,CACtBC,YAAaA,GAMf,SAASA,IACP,OAAInI,MAAQ,6BAA8BA,KAsBnC,cAAeA,MAAsB,OAAd7H,WAAsB,gBAAiB6H,MAAQ,iBAAkBA,MAAQgH,0BAA0BxG,UAAU4H,eAAe,qBAAuBC,iBAAiB7H,UAAU4H,eAAe,UARpN,cAAe9S,QAAwB,OAAd6C,WAAsB+N,UAAUoC,eAAiB,kBAAmBpC,WAAa,gBAAiB5Q,QAAU,iBAAkBA,QAAU,UAAWA,QAAU0R,0BAA0BxG,UAAU4H,eAAe,qBAAuBC,iBAAiB7H,UAAU4H,eAAe,UAnBnTjS,EAAoC,EAAEoS,SAASC,kBAAkB,IAAIzS,EAAkC,EAjClF,aAErB,SAAuB0S,GAErB,IAAIhI,EAAMgI,EAAUC,YAAY,OAAOC,eAInCpO,EAAuB,CACzBkG,IAAKA,EACL9F,UA/EJ,SAA0B8F,GACxB,IAAI9C,EAAK1F,EAET,IAAKwI,IAAQA,EAAIkG,QACf,MAAMqB,EAAqB,4BAG7B,IAAKvH,EAAIlI,KACP,MAAMyP,EAAqB,YAI7B,IACIrB,EAAUlG,EAAIkG,QAElB,IACE,IAAK,IAAIiC,EAAe7R,OAAOd,EAA4B,EAAnCc,CAJT,CAAC,YAAa,SAAU,QAAS,sBAI2B8R,EAAiBD,EAAanF,QAASoF,EAAe5D,KAAM4D,EAAiBD,EAAanF,OAAQ,CAC3K,IAAIqF,EAAUD,EAAenQ,MAE7B,IAAKiO,EAAQmC,GACX,MAAMd,EAAqBc,IAG/B,MAAO5D,GACPvH,EAAM,CACJtB,MAAO6I,GAET,QACA,IACM2D,IAAmBA,EAAe5D,OAAShN,EAAK2Q,EAAazD,SAASlN,EAAGmN,KAAKwD,GAClF,QACA,GAAIjL,EAAK,MAAMA,EAAItB,OAIvB,MAAO,CACL0M,QAAStI,EAAIlI,KACbsE,UAAW8J,EAAQ9J,UACnBQ,OAAQsJ,EAAQtJ,OAChBnC,MAAOyL,EAAQzL,MACftD,SAAU+O,EAAQqC,mBAkCJC,CAAiBxI,GAM/B3D,cALkB2L,EAAUC,YAAY,iBAAiBC,eAMzDlB,kBALsBgB,EAAUC,YAAY,uBAQ9C,IAAKP,IACH,MAAM9R,EAAc8F,OAAO,uBAK7B,OAAI6D,MAAQ,6BAA8BA,KAEjC,IAAIJ,EAAuBrF,GAG3B,IAAIwL,EAA2BxL,KAO8F,UAEtI2O,gBAAgBhB"},"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{dB9c:function(e,t,n){\"use strict\";n.r(t);n(\"fSjL\");var i,r,s=n(\"/6Yf\"),o=n(\"qOnz\"),a=n(\"mrSG\"),c=n(\"nbvr\"),u=n(\"zIRd\"),l=((i={})[\"missing-app-config-values\"]='Missing App configuration value: \"{$valueName}\"',i[\"only-available-in-window\"]=\"This method is available in a Window context.\",i[\"only-available-in-sw\"]=\"This method is available in a service worker context.\",i[\"permission-default\"]=\"The notification permission was not granted and dismissed instead.\",i[\"permission-blocked\"]=\"The notification permission was not granted and blocked instead.\",i[\"unsupported-browser\"]=\"This browser doesn't support the API's required to use the firebase SDK.\",i[\"failed-service-worker-registration\"]=\"We are unable to register the default service worker. {$browserErrorMessage}\",i[\"token-subscribe-failed\"]=\"A problem occurred while subscribing the user to FCM: {$errorInfo}\",i[\"token-subscribe-no-token\"]=\"FCM returned no token when subscribing the user to push.\",i[\"token-unsubscribe-failed\"]=\"A problem occurred while unsubscribing the user from FCM: {$errorInfo}\",i[\"token-update-failed\"]=\"A problem occurred while updating the user from FCM: {$errorInfo}\",i[\"token-update-no-token\"]=\"FCM returned no token when updating the user to push.\",i[\"use-sw-after-get-token\"]=\"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.\",i[\"invalid-sw-registration\"]=\"The input to useServiceWorker() must be a ServiceWorkerRegistration.\",i[\"invalid-bg-handler\"]=\"The input to setBackgroundMessageHandler() must be a function.\",i[\"invalid-vapid-key\"]=\"The public VAPID key must be a string.\",i[\"use-vapid-key-after-get-token\"]=\"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.\",i),d=new o.b(\"messaging\",\"Messaging\",l),p=\"BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4\";function f(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(a.f)(t))).replace(/=/g,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")}function h(e){for(var t=(e+\"=\".repeat((4-e.length%4)%4)).replace(/\\-/g,\"+\").replace(/_/g,\"/\"),n=atob(t),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i}!function(e){e.PUSH_RECEIVED=\"push-received\",e.NOTIFICATION_CLICKED=\"notification-clicked\"}(r||(r={}));function b(e){return Object(a.b)(this,void 0,void 0,(function(){var t,n,i=this;return Object(a.d)(this,(function(r){switch(r.label){case 0:return\"databases\"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=r.sent(),!t.map((function(e){return e.name})).includes(\"fcm_token_details_db\"))return[2,null];r.label=2;case 2:return n=null,[4,Object(c.openDb)(\"fcm_token_details_db\",5,(function(t){return Object(a.b)(i,void 0,void 0,(function(){var i,r,s,o;return Object(a.d)(this,(function(a){switch(a.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(\"fcm_token_object_Store\")?[4,(i=t.transaction.objectStore(\"fcm_token_object_Store\")).index(\"fcmSenderId\").get(e)]:[2];case 1:return r=a.sent(),[4,i.clear()];case 2:if(a.sent(),!r)return[2];if(2===t.oldVersion){if(!(s=r).auth||!s.p256dh||!s.endpoint)return[2];n={token:s.fcmToken,createTime:null!==(o=s.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:s.auth,p256dh:s.p256dh,endpoint:s.endpoint,swScope:s.swScope,vapidKey:\"string\"==typeof s.vapidKey?s.vapidKey:f(s.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(n={token:(s=r).fcmToken,createTime:s.createTime,subscriptionOptions:{auth:f(s.auth),p256dh:f(s.p256dh),endpoint:s.endpoint,swScope:s.swScope,vapidKey:f(s.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,Object(c.deleteDb)(\"fcm_token_details_db\")];case 4:return r.sent(),[4,Object(c.deleteDb)(\"fcm_vapid_details_db\")];case 5:return r.sent(),[4,Object(c.deleteDb)(\"undefined\")];case 6:return r.sent(),[2,g(n)?n:null]}}))}))}function g(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return\"number\"==typeof e.createTime&&e.createTime>0&&\"string\"==typeof e.token&&e.token.length>0&&\"string\"==typeof t.auth&&t.auth.length>0&&\"string\"==typeof t.p256dh&&t.p256dh.length>0&&\"string\"==typeof t.endpoint&&t.endpoint.length>0&&\"string\"==typeof t.swScope&&t.swScope.length>0&&\"string\"==typeof t.vapidKey&&t.vapidKey.length>0}var v=\"firebase-messaging-store\",w=null;function y(){return w||(w=Object(c.openDb)(\"firebase-messaging-database\",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(v)}}))),w}function m(e){return Object(a.b)(this,void 0,void 0,(function(){var t,n,i;return Object(a.d)(this,(function(r){switch(r.label){case 0:return t=j(e),[4,y()];case 1:return[4,r.sent().transaction(v).objectStore(v).get(t)];case 2:return(n=r.sent())?[2,n]:[3,3];case 3:return[4,b(e.appConfig.senderId)];case 4:return(i=r.sent())?[4,k(e,i)]:[3,6];case 5:return r.sent(),[2,i];case 6:return[2]}}))}))}function k(e,t){return Object(a.b)(this,void 0,void 0,(function(){var n,i,r;return Object(a.d)(this,(function(s){switch(s.label){case 0:return n=j(e),[4,y()];case 1:return i=s.sent(),[4,(r=i.transaction(v,\"readwrite\")).objectStore(v).put(t,n)];case 2:return s.sent(),[4,r.complete];case 3:return s.sent(),[2,t]}}))}))}function O(e){return Object(a.b)(this,void 0,void 0,(function(){var t,n,i;return Object(a.d)(this,(function(r){switch(r.label){case 0:return t=j(e),[4,y()];case 1:return n=r.sent(),[4,(i=n.transaction(v,\"readwrite\")).objectStore(v).delete(t)];case 2:return r.sent(),[4,i.complete];case 3:return r.sent(),[2]}}))}))}function j(e){return e.appConfig.appId}function S(e,t){return Object(a.b)(this,void 0,void 0,(function(){var n,i,r,s,o,c;return Object(a.d)(this,(function(a){switch(a.label){case 0:return[4,K(e)];case 1:n=a.sent(),i=C(t),r={method:\"POST\",headers:n,body:JSON.stringify(i)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(I(e.appConfig),r)];case 3:return[4,a.sent().json()];case 4:return s=a.sent(),[3,6];case 5:throw o=a.sent(),d.create(\"token-subscribe-failed\",{errorInfo:o});case 6:if(s.error)throw c=s.error.message,d.create(\"token-subscribe-failed\",{errorInfo:c});if(!s.token)throw d.create(\"token-subscribe-no-token\");return[2,s.token]}}))}))}function M(e,t){return Object(a.b)(this,void 0,void 0,(function(){var n,i,r,s,o,c;return Object(a.d)(this,(function(a){switch(a.label){case 0:return[4,K(e)];case 1:n=a.sent(),i=C(t.subscriptionOptions),r={method:\"PATCH\",headers:n,body:JSON.stringify(i)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(I(e.appConfig)+\"/\"+t.token,r)];case 3:return[4,a.sent().json()];case 4:return s=a.sent(),[3,6];case 5:throw o=a.sent(),d.create(\"token-update-failed\",{errorInfo:o});case 6:if(s.error)throw c=s.error.message,d.create(\"token-update-failed\",{errorInfo:c});if(!s.token)throw d.create(\"token-update-no-token\");return[2,s.token]}}))}))}function T(e,t){return Object(a.b)(this,void 0,void 0,(function(){var n,i,r,s,o;return Object(a.d)(this,(function(a){switch(a.label){case 0:return[4,K(e)];case 1:n=a.sent(),i={method:\"DELETE\",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(I(e.appConfig)+\"/\"+t,i)];case 3:return[4,a.sent().json()];case 4:if((r=a.sent()).error)throw s=r.error.message,d.create(\"token-unsubscribe-failed\",{errorInfo:s});return[3,6];case 5:throw o=a.sent(),d.create(\"token-unsubscribe-failed\",{errorInfo:o});case 6:return[2]}}))}))}function I(e){return\"https://fcmregistrations.googleapis.com/v1/projects/\"+e.projectId+\"/registrations\"}function K(e){var t=e.appConfig,n=e.installations;return Object(a.b)(this,void 0,void 0,(function(){var e;return Object(a.d)(this,(function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return e=i.sent(),[2,new Headers({\"Content-Type\":\"application/json\",Accept:\"application/json\",\"x-goog-api-key\":t.apiKey,\"x-goog-firebase-installations-auth\":\"FIS \"+e})]}}))}))}function C(e){var t=e.p256dh,n=e.auth,i=e.endpoint,r=e.vapidKey,s={web:{endpoint:i,auth:n,p256dh:t}};return r!==p&&(s.web.applicationPubKey=r),s}function D(e,t,n){return Object(a.b)(this,void 0,void 0,(function(){var i,r,s,o;return Object(a.d)(this,(function(a){switch(a.label){case 0:if(\"granted\"!==Notification.permission)throw d.create(\"permission-blocked\");return[4,N(t,n)];case 1:return i=a.sent(),[4,m(e)];case 2:return r=a.sent(),s={vapidKey:n,swScope:t.scope,endpoint:i.endpoint,auth:f(i.getKey(\"auth\")),p256dh:f(i.getKey(\"p256dh\"))},r?[3,3]:[2,E(e,s)];case 3:if(c=r.subscriptionOptions,l=(u=s).vapidKey===c.vapidKey,p=u.endpoint===c.endpoint,h=u.auth===c.auth,b=u.p256dh===c.p256dh,l&&p&&h&&b)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,T(e,r.token)];case 5:return a.sent(),[3,7];case 6:return o=a.sent(),console.warn(o),[3,7];case 7:return[2,E(e,s)];case 8:return Date.now()>=r.createTime+6048e5?[2,P({token:r.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,r.token];case 9:return[2]}var c,u,l,p,h,b}))}))}function _(e,t){return Object(a.b)(this,void 0,void 0,(function(){var n,i;return Object(a.d)(this,(function(r){switch(r.label){case 0:return[4,m(e)];case 1:return(n=r.sent())?[4,T(e,n.token)]:[3,4];case 2:return r.sent(),[4,O(e)];case 3:r.sent(),r.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(i=r.sent())?[2,i.unsubscribe()]:[2,!0]}}))}))}function P(e,t,n){return Object(a.b)(this,void 0,void 0,(function(){var i,r,s;return Object(a.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,5]),[4,M(t,e)];case 1:return i=o.sent(),r=Object(a.a)(Object(a.a)({},e),{token:i,createTime:Date.now()}),[4,k(t,r)];case 2:return o.sent(),[2,i];case 3:return s=o.sent(),[4,_(t,n)];case 4:throw o.sent(),s;case 5:return[2]}}))}))}function E(e,t){return Object(a.b)(this,void 0,void 0,(function(){var n,i;return Object(a.d)(this,(function(r){switch(r.label){case 0:return[4,S(e,t)];case 1:return n=r.sent(),i={token:n,createTime:Date.now(),subscriptionOptions:t},[4,k(e,i)];case 2:return r.sent(),[2,i.token]}}))}))}function N(e,t){return Object(a.b)(this,void 0,void 0,(function(){var n;return Object(a.d)(this,(function(i){switch(i.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=i.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:h(t)})]}}))}))}function R(e){return\"object\"==typeof e&&!!e&&\"google.c.a.c_id\"in e}function x(e){return new Promise((function(t){setTimeout(t,e)}))}var A=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener(\"push\",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener(\"pushsubscriptionchange\",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener(\"notificationclick\",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,\"app\",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||\"function\"!=typeof e)throw d.create(\"invalid-bg-handler\");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return Object(a.b)(this,void 0,void 0,(function(){var n;return Object(a.d)(this,(function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,m(this.firebaseDependencies)];case 1:n=i.sent(),this.vapidKey=null!==(t=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:p,i.label=2;case 2:return[2,D(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return _(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw d.create(\"only-available-in-window\")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw d.create(\"use-vapid-key-after-get-token\");if(\"string\"!=typeof e||0===e.length)throw d.create(\"invalid-vapid-key\");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw d.create(\"only-available-in-window\")},e.prototype.onMessage=function(){throw d.create(\"only-available-in-window\")},e.prototype.onTokenRefresh=function(){throw d.create(\"only-available-in-window\")},e.prototype.onPush=function(e){return Object(a.b)(this,void 0,void 0,(function(){var t,n,i,r;return Object(a.d)(this,(function(s){switch(s.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e))?[4,B()]:(console.debug(\"FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push.\"),[2]);case 1:return function(e){return e.some((function(e){return\"visible\"===e.visibilityState&&!e.url.startsWith(\"chrome-extension://\")}))}(n=s.sent())?[2,U(n,t)]:(i=!1,t.notification?[4,L(W(t))]:[3,3]);case 2:s.sent(),i=!0,s.label=3;case 3:return!0===i&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(r=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var i=t.notification.body;i&&(e.notification.body=i);var r=t.notification.image;r&&(e.notification.image=r)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){if(!t.fcmOptions)return;e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var i=t.fcmOptions.analytics_label;i&&(e.fcmOptions.analyticsLabel=i)}(t,e),t}(t),\"function\"==typeof this.bgMessageHandler?this.bgMessageHandler(r):this.bgMessageHandler.next(r)),[4,x(1e3)]);case 4:return s.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return Object(a.b)(this,void 0,void 0,(function(){var i;return Object(a.d)(this,(function(r){switch(r.label){case 0:return e.newSubscription?[3,2]:[4,_(this.firebaseDependencies,self.registration)];case 1:return r.sent(),[2];case 2:return[4,m(this.firebaseDependencies)];case 3:return i=r.sent(),[4,_(this.firebaseDependencies,self.registration)];case 4:return r.sent(),[4,D(this.firebaseDependencies,self.registration,null!==(n=null===(t=null==i?void 0:i.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:p)];case 5:return r.sent(),[2]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return Object(a.b)(this,void 0,void 0,(function(){var i,s,o,c,u;return Object(a.d)(this,(function(a){switch(a.label){case 0:return(i=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(s=function(e){var t,n,i,r=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(i=e.notification)||void 0===i?void 0:i.click_action;if(r)return r;return R(e.data)?self.location.origin:null}(i))?(o=new URL(s,self.location.href),c=new URL(self.location.origin),o.host!==c.host?[2]:[4,H(o)]):[2]):[2];case 1:return(u=a.sent())?[3,4]:[4,self.clients.openWindow(s)];case 2:return u=a.sent(),[4,x(3e3)];case 3:return a.sent(),[3,6];case 4:return[4,u.focus()];case 5:u=a.sent(),a.label=6;case 6:return u?(i.messageType=r.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,u.postMessage(i)]):[2]}}))}))},e}();function W(e){var t,n=Object(a.a)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function H(e){return Object(a.b)(this,void 0,void 0,(function(){var t,n,i,r,s,o,c;return Object(a.d)(this,(function(u){switch(u.label){case 0:return[4,B()];case 1:t=u.sent();try{for(n=Object(a.h)(t),i=n.next();!i.done;i=n.next())if(r=i.value,s=new URL(r.url,self.location.href),e.host===s.host)return[2,r]}catch(l){o={error:l}}finally{try{i&&!i.done&&(c=n.return)&&c.call(n)}finally{if(o)throw o.error}}return[2,null]}}))}))}function U(e,t){var n,i;t.isFirebaseMessaging=!0,t.messageType=r.PUSH_RECEIVED;try{for(var s=Object(a.h)(e),o=s.next();!o.done;o=s.next()){o.value.postMessage(t)}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}}function B(){return self.clients.matchAll({type:\"window\",includeUncontrolled:!0})}function L(e){var t,n=e.actions,i=Notification.maxActions;return n&&i&&n.length>i&&console.warn(\"This browser only supports \"+i+\" actions. The remaining actions will not be displayed.\"),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:\"\",e)}var V=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener(\"message\",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,\"app\",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return Object(a.b)(this,void 0,void 0,(function(){var t,n;return Object(a.d)(this,(function(i){switch(i.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===r.PUSH_RECEIVED&&(\"function\"==typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),R(n=t.data)&&\"1\"===n[\"google.c.a.e\"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(t){switch(t.label){case 0:return\"default\"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if(\"granted\"!==Notification.permission)throw d.create(\"permission-blocked\");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,D(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=p),[2]}))}))},e.prototype.updateSwReg=function(e){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw d.create(\"invalid-sw-registration\");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return Object(a.b)(this,void 0,void 0,(function(){var e,t;return Object(a.d)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register(\"/firebase-messaging-sw.js\",{scope:\"/firebase-cloud-messaging-push-scope\"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),d.create(\"failed-service-worker-registration\",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,_(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return Object(a.b)(this,void 0,void 0,(function(){var e;return Object(a.d)(this,(function(t){switch(t.label){case 0:return\"granted\"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if(\"granted\"===(e=t.sent()))return[2];throw\"denied\"===e?d.create(\"permission-blocked\"):d.create(\"permission-default\")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw d.create(\"use-vapid-key-after-get-token\");if(\"string\"!=typeof e||0===e.length)throw d.create(\"invalid-vapid-key\");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw d.create(\"invalid-sw-registration\");if(this.swRegistration)throw d.create(\"use-sw-after-get-token\");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw d.create(\"only-available-in-sw\")},e.prototype.onBackgroundMessage=function(){throw d.create(\"only-available-in-sw\")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return Object(a.b)(this,void 0,void 0,(function(){var n;return Object(a.d)(this,(function(i){switch(i.label){case 0:return n=function(e){switch(e){case r.NOTIFICATION_CLICKED:return\"notification_open\";case r.PUSH_RECEIVED:return\"notification_foreground\";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i.sent().logEvent(n,{message_id:t[\"google.c.a.c_id\"],message_name:t[\"google.c.a.c_l\"],message_time:t[\"google.c.a.ts\"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function F(e){return d.create(\"missing-app-config-values\",{valueName:e})}var q={isSupported:G};function G(){return self&&\"ServiceWorkerGlobalScope\"in self?\"indexedDB\"in self&&null!==indexedDB&&\"PushManager\"in self&&\"Notification\"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty(\"showNotification\")&&PushSubscription.prototype.hasOwnProperty(\"getKey\"):\"indexedDB\"in window&&null!==indexedDB&&navigator.cookieEnabled&&\"serviceWorker\"in navigator&&\"PushManager\"in window&&\"Notification\"in window&&\"fetch\"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty(\"showNotification\")&&PushSubscription.prototype.hasOwnProperty(\"getKey\")}u.a.INTERNAL.registerComponent(new s.a(\"messaging\",(function(e){var t=e.getProvider(\"app\").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw F(\"App Configuration Object\");if(!e.name)throw F(\"App Name\");var i=e.options;try{for(var r=Object(a.h)([\"projectId\",\"apiKey\",\"appId\",\"messagingSenderId\"]),s=r.next();!s.done;s=r.next()){var o=s.value;if(!i[o])throw F(o)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}(t),installations:e.getProvider(\"installations\").getImmediate(),analyticsProvider:e.getProvider(\"analytics-internal\")};if(!G())throw d.create(\"unsupported-browser\");return self&&\"ServiceWorkerGlobalScope\"in self?new A(n):new V(n)}),\"PUBLIC\").setServiceProps(q))}}]);","extractedComments":["/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */"]}