(self.webpackChunk=self.webpackChunk||[]).push([[969],{5410:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>D}),t(5901),t(2189),t(3938),t(8010),t(5769),t(1013),t(2410),t(2595),t(3238),t(1418),t(895),t(4078),t(6248);var n=t(7378),o=t(5450),a=t(3451),c=t(6654),l=t(565),i=t(703),u=t(7021),s=t(9426),m=t(265),f=(t(4009),t(5849),t(3615),t(4452)),p=(t(7471),t(7092)),y=t(6697),b=t(1764),h=t(9117),d=t(4865),v=t(8115);function k(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var g=(0,o.Pi)((function(e){var r,t,o=e.bookmark,a=o.matches,l=function(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(o,["matches"]),i=(0,b.Z)().spacing,u=(0,n.useRef)(null),s=(r=(0,h.Z)(l,"Bookmarks"),t=2,function(e){if(Array.isArray(e))return e}(r)||function(e,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,o=!1,a=void 0;try{for(var c,l=e[Symbol.iterator]();!(n=(c=l.next()).done)&&(t.push(c.value),!r||t.length!==r);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return t}}(r,t)||function(e,r){if(e){if("string"==typeof e)return k(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?k(e,r):void 0}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=s[0],g=s[1],O=(0,p._N)(l),E=O.primaryText,S=O.secondaryText,w=O.subpageText;return n.createElement(f.ZP.Container,{className:"node",onClickCapture:function(e){if(e.stopPropagation(),e.preventDefault(),(0,p.yJ)(u,e))g(!m);else{var r=(0,p._9)(l);(0,y.nL)(r)}}},n.createElement(f.ZP.LeftSpacer,{level:1,extraIconFiller:!0}),n.createElement(f.ZP.Icon,null,n.createElement(c.aAW,{size:d.ICON.SIZE({theme:{spacing:i}}),verticalAlign:"middle"})),n.createElement(f.ZP.Name,null,(0,p.wT)(E,a.name)),n.createElement(f.ZP.SubName,{variant:"smallFont"},n.createElement("span",{className:"subpage"},(0,p.wT)(w,a.branchName)),n.createElement("span",null,"/",(0,p.wT)(S,a.path))),n.createElement(f.ZP.MiddleSpacer,null),n.createElement(f.ZP.RightIconContainer,null,m?n.createElement(f.ZP.Icon,{ref:u,iconFill:v.h4},n.createElement(c.GCN,{size:d.ICON.SIZE({theme:{spacing:i}}),verticalAlign:"middle"})):n.createElement(f.ZP.Icon,{ref:u},n.createElement(c.plf,{size:d.ICON.SIZE({theme:{spacing:i}}),verticalAlign:"middle"}))))}));g.propTypes={};const O=g;var E=t(366);function S(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function w(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?S(Object(t),!0).forEach((function(r){j(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function j(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function A(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,o=!1,a=void 0;try{for(var c,l=e[Symbol.iterator]();!(n=(c=l.next()).done)&&(t.push(c.value),!r||t.length!==r);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return t}}(e,r)||function(e,r){if(e){if("string"==typeof e)return I(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?I(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var P=function(e){var r=e.repo,t=e.repoMatches,o=(0,b.Z)().spacing,a=(0,E.LM)(),l=a.openUserBookmarksRepo,u=a.closeUserBookmarksRepo,s=a.getUserBookmarkRepo,m=A((0,n.useState)(!0),2),p=m[0],y=m[1],h=!!Object.keys(t).length;return(0,n.useEffect)((function(){var e;y((null===(e=s(r.owner,r.name))||void 0===e?void 0:e.isOpen)||!1)}),[s(r.owner,r.name)]),n.createElement(n.Fragment,null,n.createElement(f.ZP.Container,{className:"node",onClick:function(){p?(u(r.owner,r.name),y(!1)):(l(r.owner,r.name),y(!0))}},n.createElement(f.ZP.LeftSpacer,{level:0}),n.createElement(i.Z,{open:p}),n.createElement(f.ZP.Icon,null,n.createElement(c.H0r,{size:d.ICON.SIZE({theme:{spacing:o}}),verticalAlign:"middle"})),n.createElement(f.ZP.Name,null,r.owner,"/",r.name)),n.createElement(n.Fragment,null,p&&h&&Object.entries(t).map((function(e){var t=A(e,2),o=t[0],a=t[1].matches;return r.bookmarks[o]&&n.createElement(O,{key:o,bookmark:w(w({},r.bookmarks[o]),{},{matches:a})})}))))};P.propTypes={};const Z=P;var N=t(6731),C=t(6304),R=t(3597),B=(t(4705),t(3902),t(4062),t(1444),t(2077),t(3526),t(7115)),x=t(5329);function M(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,o=!1,a=void 0;try{for(var c,l=e[Symbol.iterator]();!(n=(c=l.next()).done)&&(t.push(c.value),!r||t.length!==r);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return t}}(e,r)||function(e,r){if(e){if("string"==typeof e)return T(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?T(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function q(e,r,t,n,o,a,c){try{var l=e[a](c),i=l.value}catch(e){return void t(e)}l.done?r(i):Promise.resolve(i).then(n,o)}function F(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,o=!1,a=void 0;try{for(var c,l=e[Symbol.iterator]();!(n=(c=l.next()).done)&&(t.push(c.value),!r||t.length!==r);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return t}}(e,r)||U(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,r){if(e){if("string"==typeof e)return z(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?z(e,r):void 0}}function z(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}const D=(0,o.Pi)((function(){(0,C.S)();var e=(0,E.LM)(),r=e.userBookmarks,t=e.numOfBookmarks,o=(0,E.ZA)(),f=o.addPendingRequest,p=o.removePendingRequest,y=o.isBookmarksSectionMinimized,b=o.toggleBookmarksSection,h=o.selectedBookmarkQuery,d=o.setSelectedBookmarkQuery,v=o.selectedBookmarkRepo,k=o.setSelectedBookmarkRepo,g=F((0,n.useState)(!0),2),O=g[0],S=g[1],w=(0,n.useMemo)((function(){return[{value:"",label:"All repositories"}].concat(function(e){if(Array.isArray(e))return z(e)}(e=Array.from(r).map((function(e){var r=F(e,2),t=r[0],n=r[1];return{value:t,label:"".concat(n.owner,"/").concat(n.name)}})))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var e}),[r.size]),j=(0,a.cI)({defaultValues:{query:h||"",repository:v?w.filter((function(e){return e.value===v}))[0]:w.length&&w[0]}}),A=j.control,I=j.register,P=j.watch,T=P("repository"),D=function(e,r,t){var o=M((0,n.useState)({}),2),a=o[0],c=o[1],l=(0,n.useMemo)((function(){var r=(0,x.isBlank)(t)||!e.has(t)?Array.from(e).map((function(e){var r=M(e,2)[1];return Object.values(r.bookmarks)})).flat():Object.values(e.get(t).bookmarks);return new B.qY(r.map((function(e){var r=e.bookmarkId,t=e.branch.name,n=e.name,o=e.path,a=e.repo;return{bookmarkId:r,branchName:t,name:n,path:o,repoOwner:a.owner,repoName:a.name}})),["branchName","name","path"])}),[r,t]);return{bookmarkRepoResults:a,searchBookmarks:function(e){return new Promise((function(r){var t=l.search(e),n={};t.forEach((function(e){var r=e.item,t=e.matches,o="".concat(r.repoOwner,":").concat(r.repoName),a={matches:t};n[o]?n[o][r.bookmarkId]=a:n[o]={[r.bookmarkId]:a}})),c(n),r()}))}}}(r,t,T.value),_=D.bookmarkRepoResults,L=D.searchBookmarks,$=P("query"),H=(0,R.Z)($,700);return(0,n.useEffect)((function(){var e=function(){var e,r=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f("Bookmarks"),e.next=3,L(H);case 3:p("Bookmarks");case 4:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function c(e){q(a,n,o,c,l,"next",e)}function l(e){q(a,n,o,c,l,"throw",e)}c(void 0)}))});return function(){return r.apply(this,arguments)}}();d(H),k(T.value),e()}),[H,T,t]),n.createElement(n.Fragment,null,n.createElement(u.gM,{hasShadow:!O},n.createElement(u.Yb,null,n.createElement(i.Z,{open:!y,onClick:b,highlightOnHover:!0,Icon:n.createElement(c.Ui8,null),startDeg:90,noRotate:!0}),n.createElement(u.l0,null,n.createElement(u.__,{htmlFor:"query"},"Search"),n.createElement(s.Z,{className:"input-field ".concat(y&&"is-technically-last"),type:"text",placeholder:"",id:"query",name:"query",ref:I({required:!0})}),n.createElement(u.nZ,{isHidden:y},n.createElement(u.__,{htmlFor:"repository"},"Repository"),n.createElement(m.d,{className:"input-field",name:"repository",placeholder:"Repository",control:A,rules:{required:!0},options:w,onChange:function(e){k(e.value)}})))),n.createElement(u.hf,null,function(e){var r=Object.values(e);if(!r.length)return"No bookmarks found";var t=r.reduce((function(e,r){return e+Object.keys(r).length}),0);return"".concat(t," bookmarks in ").concat(r.length," ").concat(1!==r.length?"repos":"repo")}(_))),n.createElement(N.Z,{onScrollFrame:function(e){0===e.top?S(!0):O&&S(!1)}},n.createElement(l.ZG,null,_&&Object.entries(_).map((function(e){var t=F(e,1)[0];return r.has(t)&&n.createElement(Z,{key:t,repo:r.get(t),repoMatches:_[t]})})))))}))}}]);