{"map":{"version":3,"sources":["d91e9ae9-960778ab5a68a927711d.js"],"names":["window","push","6Uf2","module","__webpack_exports__","__webpack_require__","process","id","_firebase_app__WEBPACK_IMPORTED_MODULE_1__","tslib__WEBPACK_IMPORTED_MODULE_2__","_firebase_util__WEBPACK_IMPORTED_MODULE_3__","_firebase_logger__WEBPACK_IMPORTED_MODULE_4__","_firebase_component__WEBPACK_IMPORTED_MODULE_5__","DOMStorageWrapper","domStorage_","this","prefix_","prototype","set","key","value","removeItem","prefixedName_","setItem","Object","get","storedVal","getItem","remove","name","toString","MemoryStorage","cache_","isInMemoryStorage","createStoragefor","domStorageName","domStorage","e","PersistentStorage","SessionStorage","logClient","LUIDGenerator","sha1","str","utf8Bytes","update","sha1Bytes","digest","encodeByteArray","buildLogMessage_","varArgs","_i","arguments","length","message","i","arg","Array","isArray","apply","logger","firstLog_","enableLogging","logger_","persistent","logLevel","VERBOSE","log","bind","logWrapper","prefix","error","fatal","Error","warn","isInvalidJSONNumber","data","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","MIN_NAME","MAX_NAME","nameCompare","a","b","aAsInt","tryParseInt","bAsInt","stringCompare","requireKey","obj","ObjectToUniqueKey","keys","k","sort","splitStringBySize","segsize","len","dataSegs","c","substring","each","fn","hasOwnProperty","doubleToIEEE754String","v","s","f","ln","Infinity","Math","abs","pow","min","floor","LN2","round","bits","reverse","join","hexByteString","hexByte","parseInt","substr","toLowerCase","INTEGER_REGEXP_","RegExp","test","intVal","exceptionGuard","setTimeout","stack","setTimeoutNonBlocking","time","timeout","Path","pathOrString","pieceNum","pieces_","split","copyTo","pieceNum_","defineProperty","enumerable","configurable","getFront","getLength","popFront","getBack","pathString","toUrlEncodedString","encodeURIComponent","String","slice","begin","parent","pieces","child","childPathObj","childPieces","isEmpty","relativePath","outerPath","innerPath","outer","inner","comparePaths","left","right","leftKeys","rightKeys","cmp","equals","other","j","contains","ValidationPath","path","errorPrefix_","parts_","byteLength_","max","checkValid_","pop","last","MAX_PATH_LENGTH_BYTES","MAX_PATH_DEPTH","toErrorString","RepoInfo","host","secure","namespace","webSocketOnly","nodeAdmin","persistenceKey","includeNamespaceInQueryParams","domain","indexOf","internalHost","needsQueryParam","isCustomHost","isCacheableHost","isDemoHost","updateHost","newHost","connectionURL","type","params","connURL","pairs","toURLString","PUSH_CHARS","lastPushTime","lastRandChars","__EMPTY_NODE","MAX_NODE","parseRepoInfo","dataURL","parsedUrl","parseDatabaseURL","location","protocol","scheme","repoInfo","subdomain","port","colonInd","slashInd","questionMarkInd","pathStringDecoded","piece","decodeURIComponent","replace","decodePath","queryParams","queryString","e_1","_a","results","charAt","_b","_c","next","done","segment","kv","e_1_1","return","call","decodeQuery","hostWithoutPort","dotInd","INVALID_KEY_REGEX_","INVALID_PATH_REGEX_","isValidKey","isValidPathString","isValidPriority","priority","validateFirebaseDataArg","fnName","argumentNumber","optional","undefined","validateFirebaseData","errorPrefix","path_","hasDotValue_1","hasActualChild_1","validateFirebaseMergeDataArg","errorPrefix$1","mergePaths","curPath","prevPath","validateFirebaseMergePaths","validatePriority","validateEventType","eventType","validateKey","validatePathString","validateRootPathString","validateWritablePath","validateUrl","isValidRootPathString","validateBoolean","bool","OnDisconnect","repo_","cancel","onComplete","deferred","onDisconnectCancel","wrapCallback","promise","onDisconnectSet","setWithPriority","onDisconnectSetWithPriority","objectToMerge","newObjectToMerge","onDisconnectUpdate","TransactionResult","committed","snapshot","toJSON","nextPushId","now","duplicateTime","timeStampChars","random","NamedNode","node","Wrap","Index","getCompare","compare","indexedValueChanged","oldNode","newNode","oldWrapped","newWrapped","minPost","MIN","KeyIndex","_super","val","isDefinedOn","maxPost","makePost","indexValue","KEY_INDEX","__childrenNodeConstructor","nodeFromJSON","MAX_NODE$1","priorityHashText","validatePriorityNode","priorityNode","isLeafNode","getPriority","LeafNode","value_","priorityNode_","EMPTY_NODE","lazyHash_","updatePriority","newPriorityNode","getImmediateChild","childName","getChild","hasChild","getPredecessorChildName","childNode","updateImmediateChild","newChildNode","updateChild","front","numChildren","forEachChild","index","action","exportFormat",".value","getValue",".priority","hash","toHash","compareTo","compareToLeafNode_","otherLeaf","otherLeafType","thisLeafType","otherIndex","VALUE_TYPE_ORDER","thisIndex","withIndex","isIndexed","_defaultIndexMap","PRIORITY_INDEX","PriorityIndex","aPriority","bPriority","indexCmp","SortedMapIterator","startKey","comparator","isReverse_","resultGenerator_","nodeStack_","getNext","result","hasNext","peek","LLRBNode","color","RED","SortedMap","copy","count","inorderTraversal","reverseTraversal","min_","minKey","maxKey","insert","n","fixUp_","removeMin_","isRed_","moveRedLeft_","smallest","rotateRight_","moveRedRight_","rotateLeft_","colorFlip_","nl","nr","checkMaxDepth_","blackDepth","check_","BLACK","LLRBEmptyNode","comparator_","root_","getPredecessorKey","rightParent","getIterator","resultGenerator","getIteratorFrom","getReverseIteratorFrom","getReverseIterator","LOG_2","Base12Num","num","current_","mask","bits_","nextBitIsOne","buildChildSet","childList","keyFn","mapSortFn","root","base12","buildPennant","chunkSize","low","high","childTree","buildBalancedTree","namedNode","middle","attachPennant","pennant","isOne","buildFrom12Array","fallbackObject","IndexMap","indexes_","indexSet_","indexKey","sortedMap","hasIndex","indexDefinition","addIndex","existingChildren","newIndex","sawIndexedValue","iter","indexName","newIndexSet","newIndexes","addToIndexes","_this","indexedChildren","existingSnap","newChildren","removeFromIndexes","NAME_ONLY_COMPARATOR","NAME_COMPARATOR","ChildrenNode","children_","indexMap_","Default","newIndexMap","newPriority","newImmediateChild","numKeys","allIntegerKeys","array","toHash_1","childHash","idx","resolveIndex_","predecessor","getFirstChildName","getFirstChild","getLastChildName","getLastChild","wrappedNode","startPost","iterator","endPost","MAX_NODE$2","otherChildrenNode","thisIter","otherIter","thisCurrent","otherCurrent","MaxNode","defineProperties","MAX","setMaxNode$1","nodeFromJSON$1","json","node_1","childData","children_1","childrenHavePriority_1","childSet","sortedChildSet","setNodeFromJSON","__referenceConstructor","VALUE_INDEX","ValueIndex","valueNode","PathIndex","indexPath_","extractChild","snap","aChild","bChild","DataSnapshot","node_","ref_","index_","exportVal","exists","childPathString","childPath","childRef","forEach","childrenNode","hasChildren","getKey","getRef","DataEvent","eventRegistration","prevName","getPath","ref","getParent","getEventType","getEventRunner","CancelEvent","ValueEventRegistration","callback_","cancelCallback_","context_","respondsTo","createEvent","change","query","getQueryParams","getIndex","snapshotNode","eventData","ctx","cancelCB_1","cb_1","createCancelEvent","matches","hasAnyCallback","ChildEventRegistration","callbacks_","eventToCheck","cancelCB_2","cb_2","otherKeys","thisKeys","otherCount","otherKey","thisKey","every","Query","repo","queryParams_","orderByCalled_","validateQueryEndpoints_","startNode","endNode","hasStart","getIndexStartValue","hasEnd","getIndexEndValue","tooManyArgsError","wrongArgTypeError","getIndexStartName","getIndexEndName","validateLimit_","hasLimit","hasAnchoredLimit","validateNoPreviousOrderByCall_","on","callback","cancelCallbackOrContext","context","ret","getCancelAndContextArgs_","onValueEvent","callbacks","onChildEvent","cancelCallback","container","addEventCallbackForQuery","off","valueCallback","removeEventCallbackForQuery","once","userCallback","failureCallbackOrContext","firstCall","catch","onceCallback","resolve","err","reject","limitToFirst","limit","limitToLast","orderByChild","parsedPath","newParams","orderBy","orderByKey","orderByPriority","orderByValue","startAt","endAt","equalTo","queryObject","getQueryObject","queryIdentifier","isEqual","sameRepo","samePath","sameQueryIdentifier","cancelOrContext","ExistingValueProvider","DeferredValueProvider","syncTree","syncTree_","calcCompleteEventCache","resolveDeferredLeafValue","existingVal","serverValues","resolveScalarDeferredValue","resolveComplexDeferredValue","JSON","stringify","op","existing","unused","delta","existingNode","resolveDeferredValueTree","resolveDeferredValue","resolveDeferredValueSnapshot","rawPri","leafNode","OperationType","SparseSnapshotTree","children","Map","find","size","childKey","has","remember","clear","forget","self_1","tree","delete","forEachTree","prefixPath","func","emptyChildrenSingleton","__referenceConstructor$1","OperationSource","fromUser","fromServer","queryId","tagged","User","Server","forServerTaggedQuery","AckUserWrite","affectedTree","revert","ACK_USER_WRITE","source","operationForChild","subtree","Empty","ImmutableTree","fromObject","childSnap","findRootMostMatchingPathAndValue","predicate","childExistingPathAndValue","findRootMostValueAndPath","toSet","newChild","setTree","newTree","fold","fold_","pathSoFar","accum","findOnPath","findOnPath_","pathToFollow","nextChild","foreachOnPath","foreachOnPath_","currentRelativePath","foreach","foreach_","foreachChild","ListenComplete","LISTEN_COMPLETE","Overwrite","OVERWRITE","Merge","MERGE","CacheNode","fullyInitialized_","filtered_","isFullyInitialized","isFiltered","isCompleteForPath","isCompleteForChild","getNode","ViewCache","eventCache_","serverCache_","updateEventSnap","eventSnap","complete","filtered","updateServerSnap","serverSnap","getEventCache","getCompleteEventSnap","getServerCache","getCompleteServerSnap","Change","oldSnap","valueChange","VALUE","childAddedChange","CHILD_ADDED","childRemovedChange","CHILD_REMOVED","childChangedChange","newSnapshot","oldSnapshot","CHILD_CHANGED","childMovedChange","CHILD_MOVED","IndexedFilter","affectedPath","optChangeAccumulator","oldChild","trackChildChange","updateFullNode","newSnap","filtersNodes","getIndexedFilter","ChildChangeAccumulator","changeMap","oldChange","oldType","getChanges","from","values","NO_COMPLETE_CHILD_SOURCE","NoCompleteChildSource_","getCompleteChild","getChildAfterChild","WriteTreeCompleteChildSource","writes_","viewCache_","optCompleteServerCache_","serverNode","calcCompleteChild","completeServerData","nodes","calcIndexedSlice","ProcessorResult","viewCache","changes","ViewProcessor","filter_","assertIndexed","applyOperation","oldViewCache","operation","writesCache","completeCache","newViewCache","filterServerNode","accumulator","overwrite","applyUserOverwrite_","applyServerOverwrite_","merge","applyUserMerge_","applyServerMerge_","ackUserWrite","revertUserWrite_","ackUserWrite_","listenComplete_","maybeAddValueEvent_","isLeafOrEmpty","oldCompleteSnap","generateEventCacheAfterServerEvent_","changePath","oldEventSnap","shadowingWrite","newEventCache","serverCache","completeChildren","completeEventChildren","calcCompleteEventChildren","completeNode","oldEventNode","updatedPriority","calcEventCacheAfterServerOverwrite","childChangePath","newEventChild","eventChildUpdate","changedSnap","newServerCache","oldServerSnap","serverFilter","newServerNode","newEventSnap","cacheHasChild_","changedChildren","curViewCache","writePath","applyMerge_","viewMergeTree","serverChild","childMergeTree","isUnknownDeepMerge","ackPath","changedChildren_1","changedChildren_2","mergePath","serverCachePath","oldServerNode","completeServerCache","oldEventCache","serverChildren","EventGenerator","query_","generateEventsForChanges","eventCache","eventRegistrations","events","moves","generateEventsForType_","registrations","filteredChanges","filter","compareChanges_","materializedChange","materializeSingleChange_","registration","aWrapped","bWrapped","View","initialViewCache","eventRegistrations_","indexFilter","getNodeFilter","processor_","initialServerCache","initialEventCache","eventGenerator_","getQuery","getCompleteServerCache","cache","loadsAllData","addEventRegistration","removeEventRegistration","cancelError","cancelEvents","path_1","maybeEvent","remaining","concat","generateEventsForChanges_","getInitialEvents","initialChanges","SyncPoint","views","optCompleteServerCache","view","serverCacheComplete","eventCacheComplete","e_2","removed","hadCompleteView","hasCompleteView","entries","_d","viewQueryId","e_2_1","getQueryViews","e_3","e_3_1","e_4","e_4_1","viewForQuery","getCompleteView","viewExistsForQuery","e_5","e_5_1","CompoundWrite","writeTree_","addWrite","rootmost","rootMostPath","addWrites","updates","newWrite","removeWrite","hasCompleteWrite","getCompleteNode","getCompleteChildren","childCompoundWrite","shadowingNode","applySubtreeWrite","writeTree","priorityWrite_1","WriteTree","visibleWrites_","allWrites_","lastWriteId_","childWrites","WriteTreeRef","addOverwrite","writeId","visible","addMerge","getWrite","record","findIndex","writeToRemove","splice","removedWriteWasVisible","removedWriteOverlapsWithOtherWrites","currentWrite","recordContainsPath_","resetTree_","getCompleteWriteData","treePath","writeIdsToExclude","includeHiddenWrites","mergeAtPath","layerTree_","write","layeredCache","subMerge","completeServerChildren","topLevelSet","merge_1","existingEventSnap","existingServerSnap","childMerge","toIterate","writeRecord","DefaultFilter_","writes","treeRoot","compoundWrite","deepNode","treePath_","existingServerCache","SyncTree","listenProvider_","syncPointTree_","pendingWriteTree_","tagToQueryMap","queryToTagMap","applyUserOverwrite","newData","applyOperationToSyncPoints_","applyUserMerge","changeTree","affectedTree_1","applyServerOverwrite","applyServerMerge","applyListenComplete","applyTaggedQueryOverwrite","tag","queryKey","queryKeyForTag_","r","parseQueryKey_","queryPath","applyTaggedOperation_","applyTaggedQueryMerge","applyTaggedListenComplete","foundAncestorDefaultView","pathToSyncPoint","sp","syncPoint","childSyncPoint","viewAlreadyExists","makeQueryKey_","getNextQueryTag_","setupListener_","maybeSyncPoint","removedAndEvents","removingDefault","covered","parentSyncPoint","newViews","collectDistinctViewsForSubTree_","newQuery","listener","createListenerForView_","startListening","queryForListening_","tagForQuery_","hashFn","stopListening","queryToRemove","tagToRemove","removeTags_","maybeChildSyncPoint","childMap","views_1","_key","childViews","queries","removedQuery","removedQueryKey","removedQueryTag","isDefault","queriesToStop","queries_1","map","childQueries","queryToStop","status","code","reason","toUpperCase","errorForServerCode","splitIndex","nextQueryTag_","applyOperationHelper_","syncPointTree","applyOperationDescendantsHelper_","childOperation","childServerCache","childWritesCache","SnapshotHolder","rootNode_","updateSnapshot","newSnapshotNode","StatsCollection","counters_","incrementCounter","amount","StatsManager","getCollection","hashString","collections_","getOrCreateReporter","creatorFunction","reporters_","StatsListener","collection_","last_","newStats","stat","StatsReporter","collection","server_","statsToReport_","statsListener_","reportStats_","includeStat","stats","reportedStats","haveStatsToReport","reportStats","EventQueue","eventLists_","recursionDepth_","queueEvents","eventDataList","currList","eventPath","EventList","add","raiseEventsAtPath","raiseQueuedEventsMatchingPredicate_","raiseEventsForChangedPath","changedPath","sentAll","eventList","raise","events_","eventFn","EventEmitter","allowedEvents_","listeners_","trigger","listeners","validateEventType_","getInitialEvent","et","VisibilityMonitor","hidden","visibilityChange","document","addEventListener","visible_","getInstance","OnlineMonitor","online_","currentlyOnline","PacketReceiver","onMessage_","pendingResponses","currentResponseNum","closeAfterResponse","onClose","closeAfter","responseNum","handleResponse","requestNum","_loop_1","toProcess","this_1","_loop_2","BrowserPollConnection","connId","applicationId","transportSessionId","lastSessionId","bytesSent","bytesReceived","everConnected_","log_","stats_","urlFn","open","onMessage","onDisconnect","curSegmentNum","onDisconnect_","myPacketOrderer","isClosed_","connectTimeoutTimer_","onClosed_","readyState","called_1","wrappedFn_1","body","attachEvent","executeWhenDOMReady","scriptTagHolder","FirebaseIFrameScriptHolder","args","command","arg1","arg2","incrementIncomingBytes_","clearTimeout","password","sendNewPolls","pN","urlParams","start","uniqueCallbackIdentifier","href","connectURL","addTag","startLongPoll","addDisconnectPingFrame","forceAllow","forceAllow_","forceDisallow","forceDisallow_","isAvailable","createElement","Windows","UI","markConnectionHealthy","shutdown_","close","myDisconnFrame","removeChild","send","dataStr","base64data","MAX_URL_DATA_SIZE","enqueueSegment","pw","dframe","src","style","display","appendChild","commandCB","onMessageCB","outstandingRequests","Set","pendingSegs","currentSerial","myIFrame","createIFrame_","script","iframeContents","doc","iframe","contentWindow","contentDocument","alive","innerHTML","myID","myPW","newRequest_","theURL","curDataString","d","theSeg","shift","seg","ts","addLongPollTag_","segnum","totalsegs","url","serial","doNewRequest","keepaliveTimeout","loadCB","doNodeLongPoll","newScript_1","async","onload","onreadystatechange","rstate","parentNode","onerror","SDK_VERSION","setSDKVersion","version","WebSocketImpl","MozWebSocket","WebSocket","WebSocketConnection","keepaliveTimer","frames","totalFrames","connectionURL_","device","options","headers","User-Agent","platform","X-Firebase-GMPID","env","proxy","origin","mySock","onopen","onclose","onmessage","m","handleIncomingFrame","isOldAndroid","navigator","userAgent","oldAndroidMatch","match","parseFloat","previouslyFailed","appendFrame_","fullMess","jsonMess","handleNewFrameCount_","frameCount","extractFrameCount_","isNaN","mess","resetKeepAlive","remainingData","sendString_","clearInterval","setInterval","responsesRequiredToBeHealthy","healthyTimeout","TransportManager","initTransports_","isWebSocketsAvailable","isSkipPollConnection","transports_","transports","ALL_TRANSPORTS","transport","initialTransport","upgradeTransport","Connection","repoInfo_","applicationId_","onReady_","onKill_","connectionCount","pendingDataMessages","state_","transportManager_","start_","conn","conn_","nextTransportId_","primaryResponsesRequired_","onMessageReceived","connReceiver_","onConnectionLost","disconnReceiver_","tx_","rx_","secondaryConn_","isHealthy_","healthyTimeoutMS","healthyTimeout_","everConnected","onConnectionLost_","onSecondaryConnectionLost_","onPrimaryMessageReceived_","onSecondaryMessageReceived_","sendRequest","dataMsg","msg","t","sendData_","tryCleanupConnection","onSecondaryControl_","controlData","cmd","upgradeIfSecondaryHealthy_","secondaryResponsesRequired_","parsedData","layer","proceedWithUpgrade_","onControl_","onDataMessage_","onPrimaryResponse_","payload","onHandshake_","onConnectionShutdown_","onReset_","sendPingOnPrimaryIfNecessary_","handshake","timestamp","h","sessionId","onConnectionEstablished_","tryStartUpgrade_","startUpgrade_","closeConnections_","ServerActions","put","refreshAuthToken","token","onDisconnectPut","onDisconnectMerge","PersistentConnection","onDataUpdate_","onConnectStatus_","onServerInfoUpdate_","authTokenProvider_","authOverride_","nextPersistentConnectionId_","interruptReasons_","listens","outstandingPuts_","outstandingPutCount_","onDisconnectRequestQueue_","connected_","reconnectDelay_","maxReconnectDelay_","securityDebugCallback_","establishConnectionTimer_","requestCBHash_","requestNumber_","realtime_","authToken_","forceTokenRefresh_","invalidAuthTokenCount_","firstConnection_","lastConnectionAttemptTime_","lastConnectionEstablishedTime_","scheduleConnect_","onVisible_","onOnline_","onResponse","curReqNum","listen","currentHashFn","listenSpec","sendListen_","req","p","warnOnListenWarnings_","removeListen_","warnings","indexSpec","indexPath","tryAuth","reduceReconnectDelayIfAdminCredential_","credential","token_1","authMethod","requestData","cred","res","onAuthRevoked_","unlisten","sendUnlisten_","queryObj","sendOnDisconnect_","request","response","putInternal","sendPut_","queued","errorReason","reqNum","onDataPush_","onListenRevoked_","onSecurityDebugPacket_","Date","getTime","handleTimestamp_","sendConnectStats_","restoreState_","establishConnection_","online","onRealtimeDisconnect_","cancelSentTransactions_","shouldReconnect_","timeSinceLastConnectAttempt","reconnectDelay","onDataMessage_1","onReady_1","onDisconnect_1","connId_1","nextConnectionId_","lastSessionId_1","canceled_1","connection_1","closeFn_1","forceRefresh","getToken","then","accessToken","interrupt","resume","serverTimeOffset","q","normalizedPathString","statusCode","explanation","notifyForInvalidToken","console","_e","_f","clientName","ReadonlyRestClient","listens_","getListenId_","listenId","thisListen","queryStringParameters","toRestQueryStringParameters","restRequest_","authTokenData","authToken","xhr","XMLHttpRequest","responseText","Repo","forceRestClient_","app","dataUpdateCount","eventQueue_","nextWriteId_","interceptServerDataCallback_","persistentConnection_","search","authOverride","appId","addTokenChangeListener","statsReporter_","transactionsInit_","infoData_","infoSyncTree_","infoEvents","updateInfo_","serverSyncTree_","serverTime","offset","generateServerValues","isMerge","taggedChildren","raw","taggedSnap","rerunTransactions_","interceptServerData_","connectStatus","runOnDisconnectEvents_","getNextWriteId_","newVal","newNodeUnresolved","success","clearEvents","callOnCompleteCallback","abortTransactions_","childrenToMerge","empty","changedKey","changedValue","writeId_1","resolvedOnDisconnectTree","resolved","showDelta","longestName","reduce","previousValue","currentValue","paddedStat","statsIncrementCounter","metric","__database","Database","RangedFilter","indexedFilter_","startPost_","getStartPost_","endPost_","getEndPost_","getStartPost","getEndPost","self","startName","endName","LimitedFilter","rangedFilter_","limit_","getLimit","reverse_","isViewFromLeft","fullLimitUpdateChild_","indexCompare_1","foundStartPost","changeAccumulator","indexCmp_1","newChildNamedNode","windowBoundary","inRange","oldChildSnap","compareNext","QueryParams","limitSet_","startSet_","startNameSet_","endSet_","endNameSet_","viewFrom_","indexStartValue_","indexStartName_","indexEndValue_","indexEndName_","WIRE_PROTOCOL_CONSTANTS_","VIEW_FROM_LEFT","copy_","newLimit","VIEW_FROM_RIGHT","WIRE_PROTOCOL_CONSTANTS","INDEX_START_VALUE","INDEX_START_NAME","INDEX_END_VALUE","INDEX_END_NAME","LIMIT","viewFrom","VIEW_FROM","INDEX","REST_CONSTANTS","REST_QUERY_CONSTANTS_","qs","ORDER_BY","START_AT","END_AT","LIMIT_TO_FIRST","LIMIT_TO_LAST","DEFAULT","Reference","parentPath","getRoot","databaseProp","database","transaction","transactionUpdate","applyLocally","promiseComplete","startTransaction","setPriority","thennablePushRef","pushRef","Promise","TransactionStatus","TreeNode","childCount","Tree","name_","parent_","subTree","pathObj","setValue","updateParents_","forEachDescendant","includeSelf","childrenFirst","forEachAncestor","forEachImmediateDescendantWithValue","updateChild_","childEmpty","childExists","MAX_TRANSACTION_RETRIES_","transactionQueueTree_","watchRef","order","retryCount","unwatcher","abortReason","currentWriteId","currentInputSnapshot","currentOutputSnapshotRaw","currentOutputSnapshotResolved","currentState","getLatestState_","RUN","queueNode","nodeQueue","priorityForNode","sendReadyTransactions_","excludeSets","pruneCompletedTransactionsBelowNode_","queue","buildTransactionQueue_","sendTransactionQueue_","setsToIgnore","txn","latestState","snapToSend","latestHash","SENT","dataToSend","pathToSend","COMPLETED","SENT_NEEDS_ABORT","NEEDS_ABORT","rootMostTransactionNode","getAncestorTransactionNode_","rerunTransactionQueue_","abortTransaction","currentNode","newDataNode","oldWriteId","newNodeResolved","lastInput","transactionNode","transactionQueue","aggregateTransactionQueuesForNode_","to","abortTransactionsOnNode_","lastSent","_staticInstance","FirebaseAuthTokenProvider","app_","authProvider_","auth_","getImmediate","auth","addAuthTokenListener","removeTokenChangeListener","removeAuthTokenListener","errorMessage","EmulatorAdminTokenProvider","EMULATOR_AUTH_TOKEN","RepoManager","repos_","useRestClient_","appName","dbUrl","applyEmulatorSettings","databaseFromApp","authProvider","databaseURL","projectId","isEmulator","dbEmulatorHost","authTokenProvider","createRepo","deleteRepo","appRepos","forceRestClient","repoInternal_","instanceStarted_","INTERNAL","checkDeleted_","rootInternal_","useEmulator","refFromURL","apiName","parsedURL","goOffline","goOnline","ServerValue","TIMESTAMP",".sv","increment","freeze","__proto__","forceLongPolling","forceWebSockets","setSecurityDebugCallback","interceptServerData","initStandalone","customAuthImpl","setComponent","instance","DataConnection","simpleListen","echo","onEcho","RealTimeConnection","ConnectionTarget","TEST_ACCESS","hijackHash","newHash","oldPut","_forceRestClient","registerComponent","getProvider","setServiceProps","setMultipleInstances","registerVersion","exports","registerDatabase"],"mappings":"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"},"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{\"6Uf2\":function(t,e,n){\"use strict\";(function(t,e){n(\"E9XD\");var r,i=n(\"zIRd\"),o=n(\"mrSG\"),s=n(\"qOnz\"),a=n(\"q/0M\"),h=n(\"/6Yf\"),u=function(){function t(t){this.domStorage_=t,this.prefix_=\"firebase:\"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(s.J)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(s.D)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),c=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(s.k)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),l=function(t){try{if(\"undefined\"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem(\"firebase:sentinel\",\"cache\"),e.removeItem(\"firebase:sentinel\"),new u(e)}}catch(n){}return new c},p=l(\"localStorage\"),d=l(\"sessionStorage\"),f=new a.b(\"@firebase/database\"),_=(r=1,function(){return r++}),y=function(t){var e=Object(s.I)(t),n=new s.d;n.update(e);var r=n.digest();return s.h.encodeByteArray(r)},v=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=\"\",i=0;i<e.length;i++){var o=e[i];Array.isArray(o)||o&&\"object\"==typeof o&&\"number\"==typeof o.length?r+=t.apply(null,o):r+=\"object\"==typeof o?Object(s.J)(o):o,r+=\" \"}return r},g=null,m=!0,C=function(t,e){Object(s.f)(!e||!0===t||!1===t,\"Can't turn on custom loggers persistently.\"),!0===t?(f.logLevel=a.a.VERBOSE,g=f.log.bind(f),e&&d.set(\"logging_enabled\",!0)):\"function\"==typeof t?g=t:(g=null,d.remove(\"logging_enabled\"))},b=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===m&&(m=!1,null===g&&!0===d.get(\"logging_enabled\")&&C(!0)),g){var n=v.apply(null,t);g(n)}},E=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];b.apply(void 0,Object(o.f)([t],e))}},w=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"FIREBASE INTERNAL ERROR: \"+v.apply(void 0,Object(o.f)(t));f.error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"FIREBASE FATAL ERROR: \"+v.apply(void 0,Object(o.f)(t));throw f.error(n),new Error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"FIREBASE WARNING: \"+v.apply(void 0,Object(o.f)(t));f.warn(n)},S=function(t){return\"number\"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},I=\"[MIN_NAME]\",N=\"[MAX_NAME]\",P=function(t,e){if(t===e)return 0;if(t===I||e===N)return-1;if(e===I||t===N)return 1;var n=L(t),r=L(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},R=function(t,e){return t===e?0:t<e?-1:1},D=function(t,e){if(e&&t in e)return e[t];throw new Error(\"Missing required key (\"+t+\") in object: \"+Object(s.J)(e))},x=function t(e){if(\"object\"!=typeof e||null===e)return Object(s.J)(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i=\"{\",o=0;o<n.length;o++)0!==o&&(i+=\",\"),i+=Object(s.J)(n[o]),i+=\":\",i+=t(e[n[o]]);return i+=\"}\"},k=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function j(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var F=function(t){Object(s.f)(!S(t),\"Invalid JSON number\");var e,n,r,i,o;0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var h=a.join(\"\"),u=\"\";for(o=0;o<64;o+=8){var c=parseInt(h.substr(o,8),2).toString(16);1===c.length&&(c=\"0\"+c),u+=c}return u.toLowerCase()},A=new RegExp(\"^-?(0*)\\\\d{1,10}$\"),L=function(t){if(A.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},M=function(t){try{t()}catch(e){setTimeout((function(){var t=e.stack||\"\";throw O(\"Exception was thrown by user callback.\",t),e}),Math.floor(0))}},W=function(t,e){var n=setTimeout(t,e);return\"object\"==typeof n&&n.unref&&n.unref(),n},q=function(){function t(t,e){if(void 0===e){this.pieces_=t.split(\"/\");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,\"Empty\",{get:function(){return new t(\"\")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t=\"\",e=this.pieceNum_;e<this.pieces_.length;e++)\"\"!==this.pieces_[e]&&(t+=\"/\"+this.pieces_[e]);return t||\"/\"},t.prototype.toUrlEncodedString=function(){for(var t=\"\",e=this.pieceNum_;e<this.pieces_.length;e++)\"\"!==this.pieces_[e]&&(t+=\"/\"+encodeURIComponent(String(this.pieces_[e])));return t||\"/\"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split(\"/\");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error(\"INTERNAL ERROR: innerPath (\"+n+\") is not within outerPath (\"+e+\")\")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=P(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),Q=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(s.H)(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,\"MAX_PATH_DEPTH\",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,\"MAX_PATH_LENGTH_BYTES\",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=Object(s.H)(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=Object(s.H)(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+\"has a key path longer than \"+t.MAX_PATH_LENGTH_BYTES+\" bytes (\"+this.byteLength_+\").\");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+\"path specified exceeds the maximum depth that can be written (\"+t.MAX_PATH_DEPTH+\") or object contains a cycle \"+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?\"\":\"in property '\"+this.parts_.join(\".\")+\"'\"},t}(),U=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=\"\"),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(\".\")+1),this.internalHost=p.get(\"host:\"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return\"s-\"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return\"firebaseio-demo.com\"===this.domain},t.prototype.isCustomHost=function(){return\"firebaseio.com\"!==this.domain&&\"firebaseio-demo.com\"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set(\"host:\"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(Object(s.f)(\"string\"==typeof t,\"typeof type must == string\"),Object(s.f)(\"object\"==typeof e,\"typeof params must == object\"),\"websocket\"===t)n=(this.secure?\"wss://\":\"ws://\")+this.internalHost+\"/.ws?\";else{if(\"long_polling\"!==t)throw new Error(\"Unknown connection type: \"+t);n=(this.secure?\"https://\":\"http://\")+this.internalHost+\"/.lp?\"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return j(e,(function(t,e){r.push(t+\"=\"+e)})),n+r.join(\"&\")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+=\"<\"+this.persistenceKey+\">\"),t},t.prototype.toURLString=function(){return(this.secure?\"https://\":\"http://\")+this.host},t}();var V,H,K,B,z,Y=function(t,e){var n=G(t),r=n.namespace;\"firebase.com\"===n.domain&&T(n.host+\" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead\"),r&&\"undefined\"!==r||\"localhost\"===n.domain||T(\"Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com\"),n.secure||\"undefined\"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf(\"https:\")&&O(\"Insecure Firebase access from a secure page. Please use https in calls to new Firebase().\");var i=\"ws\"===n.scheme||\"wss\"===n.scheme;return{repoInfo:new U(n.host,n.secure,r,e,i,\"\",r!==n.subdomain),path:new q(n.pathString)}},G=function(t){var e=\"\",n=\"\",r=\"\",i=\"\",s=\"\",a=!0,h=\"https\",u=443;if(\"string\"==typeof t){var c=t.indexOf(\"//\");c>=0&&(h=t.substring(0,c-1),t=t.substring(c+2));var l=t.indexOf(\"/\");-1===l&&(l=t.length);var p=t.indexOf(\"?\");-1===p&&(p=t.length),e=t.substring(0,Math.min(l,p)),l<p&&(i=function(t){for(var e=\"\",n=t.split(\"/\"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\\+/g,\" \"))}catch(o){}e+=\"/\"+i}return e}(t.substring(l,p)));var d=function(t){var e,n,r={};\"?\"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Object(o.h)(t.split(\"&\")),s=i.next();!s.done;s=i.next()){var a=s.value;if(0!==a.length){var h=a.split(\"=\");2===h.length?r[decodeURIComponent(h[0])]=decodeURIComponent(h[1]):O(\"Invalid query segment '\"+a+\"' in query '\"+t+\"'\")}}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,p)));(c=e.indexOf(\":\"))>=0?(a=\"https\"===h||\"wss\"===h,u=parseInt(e.substring(c+1),10)):c=e.length;var f=e.slice(0,c);if(\"localhost\"===f.toLowerCase())n=\"localhost\";else if(f.split(\".\").length<=2)n=f;else{var _=e.indexOf(\".\");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}\"ns\"in d&&(s=d.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:h,pathString:i,namespace:s}},X=/[\\[\\].#$\\/\\u0000-\\u001F\\u007F]/,J=/[\\[\\].#$\\u0000-\\u001F\\u007F]/,$=function(t){return\"string\"==typeof t&&0!==t.length&&!X.test(t)},Z=function(t){return\"string\"==typeof t&&0!==t.length&&!J.test(t)},tt=function(t){return null===t||\"string\"==typeof t||\"number\"==typeof t&&!S(t)||t&&\"object\"==typeof t&&Object(s.k)(t,\".sv\")},et=function(t,e,n,r,i){i&&void 0===n||nt(Object(s.o)(t,e,i),n,r)},nt=function t(e,n,r){var i=r instanceof q?new Q(r,e):r;if(void 0===n)throw new Error(e+\"contains undefined \"+i.toErrorString());if(\"function\"==typeof n)throw new Error(e+\"contains a function \"+i.toErrorString()+\" with contents = \"+n.toString());if(S(n))throw new Error(e+\"contains \"+n.toString()+\" \"+i.toErrorString());if(\"string\"==typeof n&&n.length>10485760/3&&Object(s.H)(n)>10485760)throw new Error(e+\"contains a string greater than 10485760 utf8 bytes \"+i.toErrorString()+\" ('\"+n.substring(0,50)+\"...')\");if(n&&\"object\"==typeof n){var o=!1,a=!1;if(j(n,(function(n,r){if(\".value\"===n)o=!0;else if(\".priority\"!==n&&\".sv\"!==n&&(a=!0,!$(n)))throw new Error(e+\" contains an invalid key (\"+n+\") \"+i.toErrorString()+'.  Keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"');i.push(n),t(e,r,i),i.pop()})),o&&a)throw new Error(e+' contains \".value\" child '+i.toErrorString()+\" in addition to actual children.\")}},rt=function(t,e,n,r,i){if(!i||void 0!==n){var o=Object(s.o)(t,e,i);if(!n||\"object\"!=typeof n||Array.isArray(n))throw new Error(o+\" must be an object containing the children to replace.\");var a=[];j(n,(function(t,e){var n=new q(t);if(nt(o,e,r.child(n)),\".priority\"===n.getBack()&&!tt(e))throw new Error(o+\"contains an invalid value for '\"+n.toString()+\"', which must be a valid Firebase priority (a string, finite number, server value, or null).\");a.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(\".priority\"===i[o]&&o===i.length-1);else if(!$(i[o]))throw new Error(t+\"contains an invalid key (\"+i[o]+\") in path \"+r.toString()+'. Keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"');e.sort(q.comparePaths);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&s.contains(r))throw new Error(t+\"contains a path \"+s.toString()+\" that is ancestor of another path \"+r.toString());s=r}}(o,a)}},it=function(t,e,n,r){if(!r||void 0!==n){if(S(n))throw new Error(Object(s.o)(t,e,r)+\"is \"+n.toString()+\", but must be a valid Firebase priority (a string, finite number, server value, or null).\");if(!tt(n))throw new Error(Object(s.o)(t,e,r)+\"must be a valid Firebase priority (a string, finite number, server value, or null).\")}},ot=function(t,e,n,r){if(!r||void 0!==n)switch(n){case\"value\":case\"child_added\":case\"child_removed\":case\"child_changed\":case\"child_moved\":break;default:throw new Error(Object(s.o)(t,e,r)+'must be a valid event type = \"value\", \"child_added\", \"child_removed\", \"child_changed\", or \"child_moved\".')}},st=function(t,e,n,r){if(!(r&&void 0===n||$(n)))throw new Error(Object(s.o)(t,e,r)+'was an invalid key = \"'+n+'\".  Firebase keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\").')},at=function(t,e,n,r){if(!(r&&void 0===n||Z(n)))throw new Error(Object(s.o)(t,e,r)+'was an invalid path = \"'+n+'\". Paths must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\"')},ht=function(t,e,n,r){n&&(n=n.replace(/^\\/*\\.info(\\/|$)/,\"/\")),at(t,e,n,r)},ut=function(t,e){if(\".info\"===e.getFront())throw new Error(t+\" failed = Can't modify data under /.info/\")},ct=function(t,e,n){var r=n.path.toString();if(\"string\"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!$(n.repoInfo.namespace)&&\"localhost\"!==n.repoInfo.host.split(\":\")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\\/*\\.info(\\/|$)/,\"/\")),Z(t)}(r))throw new Error(Object(s.o)(t,e,!1)+'must be a valid firebase URL and the path can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\".')},lt=function(t,e,n,r){if((!r||void 0!==n)&&\"boolean\"!=typeof n)throw new Error(Object(s.o)(t,e,r)+\"must be a boolean.\")},pt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Object(s.K)(\"OnDisconnect.cancel\",0,1,arguments.length),Object(s.L)(\"OnDisconnect.cancel\",1,t,!0);var e=new s.a;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Object(s.K)(\"OnDisconnect.remove\",0,1,arguments.length),ut(\"OnDisconnect.remove\",this.path_),Object(s.L)(\"OnDisconnect.remove\",1,t,!0);var e=new s.a;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Object(s.K)(\"OnDisconnect.set\",1,2,arguments.length),ut(\"OnDisconnect.set\",this.path_),et(\"OnDisconnect.set\",1,t,this.path_,!1),Object(s.L)(\"OnDisconnect.set\",2,e,!0);var n=new s.a;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Object(s.K)(\"OnDisconnect.setWithPriority\",2,3,arguments.length),ut(\"OnDisconnect.setWithPriority\",this.path_),et(\"OnDisconnect.setWithPriority\",1,t,this.path_,!1),it(\"OnDisconnect.setWithPriority\",2,e,!1),Object(s.L)(\"OnDisconnect.setWithPriority\",3,n,!0);var r=new s.a;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(Object(s.K)(\"OnDisconnect.update\",1,2,arguments.length),ut(\"OnDisconnect.update\",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[\"\"+r]=t[r];t=n,O(\"Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.\")}rt(\"OnDisconnect.update\",1,t,this.path_,!1),Object(s.L)(\"OnDisconnect.update\",2,e,!0);var i=new s.a;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),dt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(s.K)(\"TransactionResult.toJSON\",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),ft=(V=\"-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz\",H=0,K=[],function(t){var e,n=t===H;H=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=V.charAt(t%64),t=Math.floor(t/64);Object(s.f)(0===t,\"Cannot push at time == 0\");var i=r.join(\"\");if(n){for(e=11;e>=0&&63===K[e];e--)K[e]=0;K[e]++}else for(e=0;e<12;e++)K[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=V.charAt(K[e]);return Object(s.f)(20===i.length,\"nextPushId: Length should be 20.\"),i}),_t=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),yt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new _t(I,t),r=new _t(I,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return _t.MIN},t}(),vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),Object.defineProperty(e,\"__EMPTY_NODE\",{get:function(){return B},set:function(t){B=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return P(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(s.g)(\"KeyIndex.isDefinedOn not expected to be called.\")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return _t.MIN},e.prototype.maxPost=function(){return new _t(N,B)},e.prototype.makePost=function(t,e){return Object(s.f)(\"string\"==typeof t,\"KeyIndex indexValue must always be a string.\"),new _t(t,B)},e.prototype.toString=function(){return\".key\"},e}(yt),gt=new vt;var mt,Ct,bt,Et=function(t){return\"number\"==typeof t?\"number:\"+F(t):\"string:\"+t},wt=function(t){if(t.isLeafNode()){var e=t.val();Object(s.f)(\"string\"==typeof e||\"number\"==typeof e||\"object\"==typeof e&&Object(s.k)(e,\".sv\"),\"Priority must be a string or number.\")}else Object(s.f)(t===z||t.isEmpty(),\"priority of unexpected type.\");Object(s.f)(t===z||t.getPriority().isEmpty(),\"Priority nodes can't have a priority of their own.\")},Tt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(s.f)(void 0!==this.value_&&null!==this.value_,\"LeafNode shouldn't be created with null/undefined value.\"),wt(this.priorityNode_)}return Object.defineProperty(t,\"__childrenNodeConstructor\",{get:function(){return mt},set:function(t){mt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return\".priority\"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:\".priority\"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return\".priority\"===e?this.updatePriority(n):n.isEmpty()&&\".priority\"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&\".priority\"!==r?this:(Object(s.f)(\".priority\"!==r||1===e.getLength(),\".priority must be the last token in a path\"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{\".value\":this.getValue(),\".priority\":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t=\"\";this.priorityNode_.isEmpty()||(t+=\"priority:\"+Et(this.priorityNode_.val())+\":\");var e=typeof this.value_;t+=e+\":\",t+=\"number\"===e?F(this.value_):this.value_,this.lazyHash_=y(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(s.f)(e.isLeafNode(),\"Unknown node type\"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return Object(s.f)(i>=0,\"Unknown leaf type: \"+n),Object(s.f)(o>=0,\"Unknown leaf type: \"+r),i===o?\"object\"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=[\"object\",\"boolean\",\"number\",\"string\"],t}();var Ot,St,It=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?P(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return _t.MIN},e.prototype.maxPost=function(){return new _t(N,new Tt(\"[PRIORITY-POST]\",bt))},e.prototype.makePost=function(t,e){var n=Ct(t);return new _t(e,new Tt(\"[PRIORITY-POST]\",n))},e.prototype.toString=function(){return\".priority\"},e}(yt)),Nt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Pt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Dt.EMPTY_NODE,this.right=null!=o?o:Dt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Dt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Dt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error(\"Red node has red child(\"+this.key+\",\"+this.value+\")\");if(this.right.isRed_())throw new Error(\"Right child of (\"+this.key+\",\"+this.value+\") is red\");var t=this.left.check_();if(t!==this.right.check_())throw new Error(\"Black depths differ\");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Rt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Pt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Dt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Pt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error(\"Attempted to find predecessor key for a nonexistent key.  What gives?\")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Nt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Nt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Nt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Nt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Rt,t}(),xt=Math.log(2),kt=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/xt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join(\"1\"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),jt=function(t,e,n,r){t.sort(e);var i=function(e){for(var r=null,i=null,o=t.length,s=function(e,r){var i=o-e,s=o;o-=e;var h=function e(r,i){var o,s,a=i-r;if(0===a)return null;if(1===a)return o=t[r],s=n?n(o):o,new Pt(s,o.node,Pt.BLACK,null,null);var h=parseInt(a/2,10)+r,u=e(r,h),c=e(h+1,i);return o=t[h],s=n?n(o):o,new Pt(s,o.node,Pt.BLACK,u,c)}(i+1,s),u=t[i],c=n?n(u):u;a(new Pt(c,u.node,r,null,h))},a=function(t){r?(r.left=t,r=t):(i=t,r=t)},h=0;h<e.count;++h){var u=e.nextBitIsOne(),c=Math.pow(2,e.count-(h+1));u?s(c,Pt.BLACK):(s(c,Pt.BLACK),s(c,Pt.RED))}return i}(new kt(t.length));return new Dt(r||e,i)},Ft={},At=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,\"Default\",{get:function(){return Object(s.f)(Ft&&It,\"ChildrenNode.ts has not been loaded\"),Ot=Ot||new t({\".priority\":Ft},{\".priority\":It})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(s.G)(this.indexes_,t);if(!e)throw new Error(\"No index defined for \"+t);return e instanceof Dt?e:null},t.prototype.hasIndex=function(t){return Object(s.k)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(s.f)(e!==gt,\"KeyIndex always exists and isn't meant to be added to the IndexMap.\");for(var r,i=[],a=!1,h=n.getIterator(_t.Wrap),u=h.getNext();u;)a=a||e.isDefinedOn(u.node),i.push(u),u=h.getNext();r=a?jt(i,e.getCompare()):Ft;var c=e.toString(),l=Object(o.a)({},this.indexSet_);l[c]=e;var p=Object(o.a)({},this.indexes_);return p[c]=r,new t(p,l)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(s.E)(this.indexes_,(function(t,i){var o=Object(s.G)(r.indexSet_,i);if(Object(s.f)(o,\"Missing index implementation for \"+i),t===Ft){if(o.isDefinedOn(e.node)){for(var a=[],h=n.getIterator(_t.Wrap),u=h.getNext();u;)u.name!==e.name&&a.push(u),u=h.getNext();return a.push(e),jt(a,o.getCompare())}return Ft}var c=n.get(e.name),l=t;return c&&(l=l.remove(new _t(e.name,c))),l.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(s.E)(this.indexes_,(function(t){if(t===Ft)return t;var r=n.get(e.name);return r?t.remove(new _t(e.name,r)):t})),this.indexSet_)},t}();function Lt(t,e){return P(t.name,e.name)}function Mt(t,e){return P(t,e)}var Wt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&wt(this.priorityNode_),this.children_.isEmpty()&&Object(s.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),\"An empty node cannot have a priority\")}return Object.defineProperty(t,\"EMPTY_NODE\",{get:function(){return St||(St=new t(new Dt(Mt),null,At.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||St},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(\".priority\"===t)return this.getPriority();var e=this.children_.get(t);return null===e?St:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(s.f)(n,\"We should always be passing snapshot nodes\"),\".priority\"===e)return this.updatePriority(n);var r=new _t(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?St:this.priorityNode_;return new t(i,a,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;Object(s.f)(\".priority\"!==t.getFront()||1===t.getLength(),\".priority must be the last token in a path\");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(It,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[\".priority\"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t=\"\";this.getPriority().isEmpty()||(t+=\"priority:\"+Et(this.getPriority().val())+\":\"),this.forEachChild(It,(function(e,n){var r=n.hash();\"\"!==r&&(t+=\":\"+e+\":\"+r)})),this.lazyHash_=\"\"===t?\"\":y(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new _t(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new _t(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new _t(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,_t.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,_t.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===qt?-1:0},t.prototype.withIndex=function(e){if(e===gt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===gt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(It),r=e.getIterator(It),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===gt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\\d*)$/,t}(),qt=new(function(t){function e(){return t.call(this,new Dt(Mt),Wt.EMPTY_NODE,At.Default)||this}return Object(o.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Wt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Wt));Object.defineProperties(_t,{MIN:{value:new _t(I,Wt.EMPTY_NODE)},MAX:{value:new _t(N,qt)}}),vt.__EMPTY_NODE=Wt.EMPTY_NODE,Tt.__childrenNodeConstructor=Wt,z=qt,function(t){bt=t}(qt);function Qt(t,e){if(void 0===e&&(e=null),null===t)return Wt.EMPTY_NODE;if(\"object\"==typeof t&&\".priority\"in t&&(e=t[\".priority\"]),Object(s.f)(null===e||\"string\"==typeof e||\"number\"==typeof e||\"object\"==typeof e&&\".sv\"in e,\"Invalid priority type found: \"+typeof e),\"object\"==typeof t&&\".value\"in t&&null!==t[\".value\"]&&(t=t[\".value\"]),\"object\"!=typeof t||\".sv\"in t)return new Tt(t,Qt(e));if(t instanceof Array){var n=Wt.EMPTY_NODE;return j(t,(function(e,r){if(Object(s.k)(t,e)&&\".\"!==e.substring(0,1)){var i=Qt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Qt(e))}var r=[],i=!1;if(j(t,(function(t,e){if(\".\"!==t.substring(0,1)){var n=Qt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new _t(t,n)))}})),0===r.length)return Wt.EMPTY_NODE;var o=jt(r,Lt,(function(t){return t.name}),Mt);if(i){var a=jt(r,It.getCompare());return new Wt(o,Qt(e),new At({\".priority\":a},{\".priority\":It}))}return new Wt(o,Qt(e),At.Default)}!function(t){Ct=t}(Qt);var Ut,Vt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?P(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return _t.MIN},e.prototype.maxPost=function(){return _t.MAX},e.prototype.makePost=function(t,e){var n=Qt(t);return new _t(e,n)},e.prototype.toString=function(){return\".value\"},e}(yt)),Ht=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(s.f)(!e.isEmpty()&&\".priority\"!==e.getFront(),\"Can't create PathIndex with empty path or .priority key\"),n}return Object(o.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?P(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Qt(t),r=Wt.EMPTY_NODE.updateChild(this.indexPath_,n);return new _t(e,r)},e.prototype.maxPost=function(){var t=Wt.EMPTY_NODE.updateChild(this.indexPath_,qt);return new _t(N,t)},e.prototype.toString=function(){return this.indexPath_.slice().join(\"/\")},e}(yt),Kt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Object(s.K)(\"DataSnapshot.val\",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Object(s.K)(\"DataSnapshot.exportVal\",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Object(s.K)(\"DataSnapshot.toJSON\",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Object(s.K)(\"DataSnapshot.exists\",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Object(s.K)(\"DataSnapshot.child\",0,1,arguments.length),e=String(e),at(\"DataSnapshot.child\",1,e,!1);var n=new q(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,It)},t.prototype.hasChild=function(t){Object(s.K)(\"DataSnapshot.hasChild\",1,1,arguments.length),at(\"DataSnapshot.hasChild\",1,t,!1);var e=new q(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Object(s.K)(\"DataSnapshot.getPriority\",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Object(s.K)(\"DataSnapshot.forEach\",1,1,arguments.length),Object(s.L)(\"DataSnapshot.forEach\",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),It))}))},t.prototype.hasChildren=function(){return Object(s.K)(\"DataSnapshot.hasChildren\",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,\"key\",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(s.K)(\"DataSnapshot.numChildren\",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Object(s.K)(\"DataSnapshot.ref\",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,\"ref\",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Bt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return\"value\"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+\":\"+this.eventType+\":\"+Object(s.J)(this.snapshot.exportVal())},t}(),zt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return\"cancel\"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+\":cancel\"},t}(),Yt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return\"value\"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Bt(\"value\",this,new Kt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if(\"cancel\"===t.getEventType()){Object(s.f)(this.cancelCallback_,\"Raising a cancel event on a listener with no cancel callback\");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new zt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Gt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e=\"children_added\"===t?\"child_added\":t;return e=\"children_removed\"===e?\"child_removed\":e,Object(s.k)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new zt(this,t,e):null},t.prototype.createEvent=function(t,e){Object(s.f)(null!=t.childName,\"Child events should have a childName.\");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Bt(t.type,this,new Kt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if(\"cancel\"===t.getEventType()){Object(s.f)(this.cancelCallback_,\"Raising a cancel event on a listener with no cancel callback\");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Xt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,\"__referenceConstructor\",{get:function(){return Object(s.f)(Ut,\"Reference.ts has not been loaded\"),Ut},set:function(t){Ut=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===gt){var r=\"Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().\",i=\"Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.\";if(t.hasStart()){if(t.getIndexStartName()!==I)throw new Error(r);if(\"string\"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==N)throw new Error(r);if(\"string\"!=typeof n)throw new Error(i)}}else if(t.getIndex()===It){if(null!=e&&!tt(e)||null!=n&&!tt(n))throw new Error(\"Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).\")}else if(Object(s.f)(t.getIndex()instanceof Ht||t.getIndex()===Vt,\"unknown index type.\"),null!=e&&\"object\"==typeof e||null!=n&&\"object\"==typeof n)throw new Error(\"Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.\")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error(\"Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.\")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+\": You can't combine multiple orderBy calls.\")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Object(s.K)(\"Query.ref\",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){Object(s.K)(\"Query.on\",2,4,arguments.length),ot(\"Query.on\",1,e,!1),Object(s.L)(\"Query.on\",2,n,!1);var o=t.getCancelAndContextArgs_(\"Query.on\",r,i);if(\"value\"===e)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[e]=n,this.onChildEvent(a,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Yt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Gt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){Object(s.K)(\"Query.off\",0,3,arguments.length),ot(\"Query.off\",1,t,!0),Object(s.L)(\"Query.off\",2,e,!0),Object(s.M)(\"Query.off\",3,n,!0);var r=null,i=null;if(\"value\"===t){var o=e||null;r=new Yt(o,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Gt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;Object(s.K)(\"Query.once\",1,4,arguments.length),ot(\"Query.once\",1,e,!1),Object(s.L)(\"Query.once\",2,n,!0);var a=t.getCancelAndContextArgs_(\"Query.once\",r,i),h=!0,u=new s.a;u.promise.catch((function(){}));var c=function t(r){h&&(h=!1,o.off(e,t),n&&n.bind(a.context)(r),u.resolve(r))};return this.on(e,c,(function(t){o.off(e,c),a.cancel&&a.cancel.bind(a.context)(t),u.reject(t)})),u.promise},t.prototype.limitToFirst=function(e){if(Object(s.K)(\"Query.limitToFirst\",1,1,arguments.length),\"number\"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error(\"Query.limitToFirst: First argument must be a positive integer.\");if(this.queryParams_.hasLimit())throw new Error(\"Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).\");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Object(s.K)(\"Query.limitToLast\",1,1,arguments.length),\"number\"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error(\"Query.limitToLast: First argument must be a positive integer.\");if(this.queryParams_.hasLimit())throw new Error(\"Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).\");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Object(s.K)(\"Query.orderByChild\",1,1,arguments.length),\"$key\"===e)throw new Error('Query.orderByChild: \"$key\" is invalid.  Use Query.orderByKey() instead.');if(\"$priority\"===e)throw new Error('Query.orderByChild: \"$priority\" is invalid.  Use Query.orderByPriority() instead.');if(\"$value\"===e)throw new Error('Query.orderByChild: \"$value\" is invalid.  Use Query.orderByValue() instead.');at(\"Query.orderByChild\",1,e,!1),this.validateNoPreviousOrderByCall_(\"Query.orderByChild\");var n=new q(e);if(n.isEmpty())throw new Error(\"Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.\");var r=new Ht(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){Object(s.K)(\"Query.orderByKey\",0,0,arguments.length),this.validateNoPreviousOrderByCall_(\"Query.orderByKey\");var e=this.queryParams_.orderBy(gt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Object(s.K)(\"Query.orderByPriority\",0,0,arguments.length),this.validateNoPreviousOrderByCall_(\"Query.orderByPriority\");var e=this.queryParams_.orderBy(It);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Object(s.K)(\"Query.orderByValue\",0,0,arguments.length),this.validateNoPreviousOrderByCall_(\"Query.orderByValue\");var e=this.queryParams_.orderBy(Vt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Object(s.K)(\"Query.startAt\",0,2,arguments.length),et(\"Query.startAt\",1,e,this.path,!0),st(\"Query.startAt\",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error(\"Query.startAt: Starting point was already set (by another call to startAt or equalTo).\");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Object(s.K)(\"Query.endAt\",0,2,arguments.length),et(\"Query.endAt\",1,e,this.path,!0),st(\"Query.endAt\",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error(\"Query.endAt: Ending point was already set (by another call to endAt or equalTo).\");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Object(s.K)(\"Query.equalTo\",1,2,arguments.length),et(\"Query.equalTo\",1,t,this.path,!1),st(\"Query.equalTo\",2,e,!0),this.queryParams_.hasStart())throw new Error(\"Query.equalTo: Starting point was already set (by another call to startAt or equalTo).\");if(this.queryParams_.hasEnd())throw new Error(\"Query.equalTo: Ending point was already set (by another call to endAt or equalTo).\");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Object(s.K)(\"Query.toString\",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return Object(s.K)(\"Query.toJSON\",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=x(t);return\"{}\"===e?\"default\":e},t.prototype.isEqual=function(e){if(Object(s.K)(\"Query.isEqual\",1,1,arguments.length),!(e instanceof t)){var n=\"Query.isEqual failed: First argument must be an instance of firebase.database.Query.\";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Object(s.L)(t,3,r.cancel,!0),r.context=n,Object(s.M)(t,4,r.context,!0);else if(e)if(\"object\"==typeof e&&null!==e)r.context=e;else{if(\"function\"!=typeof e)throw new Error(Object(s.o)(t,3,!0)+\" must either be a cancel callback or a context object.\");r.cancel=e}return r},Object.defineProperty(t.prototype,\"ref\",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Jt=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),$t=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),Zt=function(t,e,n){return t&&\"object\"==typeof t?(Object(s.f)(\".sv\"in t,\"Unexpected leaf node or priority contents\"),\"string\"==typeof t[\".sv\"]?te(t[\".sv\"],e,n):\"object\"==typeof t[\".sv\"]?ee(t[\".sv\"],e):void Object(s.f)(!1,\"Unexpected server value: \"+JSON.stringify(t,null,2))):t},te=function(t,e,n){switch(t){case\"timestamp\":return n.timestamp;default:Object(s.f)(!1,\"Unexpected server value: \"+t)}},ee=function(t,e,n){t.hasOwnProperty(\"increment\")||Object(s.f)(!1,\"Unexpected server value: \"+JSON.stringify(t,null,2));var r=t.increment;\"number\"!=typeof r&&Object(s.f)(!1,\"Unexpected increment value: \"+r);var i=e.node();if(Object(s.f)(null!=i,\"Expected ChildrenNode.EMPTY_NODE for nulls\"),!i.isLeafNode())return r;var o=i.getValue();return\"number\"!=typeof o?r:o+r},ne=function(t,e,n,r){return ie(e,new $t(n,t),r)},re=function(t,e,n){return ie(t,new Jt(e),n)};function ie(t,e,n){var r,i=t.getPriority().val(),o=Zt(i,e.getImmediateChild(\".priority\"),n);if(t.isLeafNode()){var s=t,a=Zt(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Tt(a,Qt(o)):t}var h=t;return r=h,o!==h.getPriority().val()&&(r=r.updatePriority(new Tt(o))),h.forEachChild(It,(function(t,i){var o=ie(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var oe,se=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(It,(function(t,e){n.remember(new q(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();if(t=t.popFront(),this.children.has(r))this.children.get(r).forget(t)&&this.children.delete(r);return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new q(t.toString()+\"/\"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}();!function(t){t[t.OVERWRITE=0]=\"OVERWRITE\",t[t.MERGE=1]=\"MERGE\",t[t.ACK_USER_WRITE=2]=\"ACK_USER_WRITE\",t[t.LISTEN_COMPLETE=3]=\"LISTEN_COMPLETE\"}(oe||(oe={}));var ae,he,ue=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,Object(s.f)(!r||e,\"Tagged queries must be from server.\")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ce=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=oe.ACK_USER_WRITE,this.source=ue.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return Object(s.f)(this.affectedTree.children.isEmpty(),\"affectedTree should not have overlapping affected paths.\"),this;var n=this.affectedTree.subtree(new q(e));return new t(q.Empty,n,this.revert)}return Object(s.f)(this.path.getFront()===e,\"operationForChild called for unrelated child.\"),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),le=function(){function t(t,e){void 0===e&&(ae||(ae=new Dt(R)),e=ae),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return j(e,(function(t,e){n=n.set(new q(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:q.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new q(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(q.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,q.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,q.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(q.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),pe=function(){function t(t,e){this.source=t,this.path=e,this.type=oe.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,q.Empty):new t(this.source,this.path.popFront())},t}(),de=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=oe.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,q.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),fe=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=oe.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new q(e));return n.isEmpty()?null:n.value?new de(this.source,q.Empty,n.value):new t(this.source,q.Empty,n)}return Object(s.f)(this.path.getFront()===e,\"Can't get a merge for a child not on the path of the operation\"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return\"Operation(\"+this.path+\": \"+this.source.toString()+\" merge: \"+this.children.toString()+\")\"},t}(),_e=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ye=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new _e(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new _e(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new _e(Wt.EMPTY_NODE,!1,!1),new _e(Wt.EMPTY_NODE,!1,!1)),t}(),ve=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED=\"child_added\",t.CHILD_REMOVED=\"child_removed\",t.CHILD_CHANGED=\"child_changed\",t.CHILD_MOVED=\"child_moved\",t.VALUE=\"value\",t}(),ge=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){Object(s.f)(t.isIndexed(this.index_),\"A node must be indexed if only a child is updated\");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(ve.childRemovedChange(e,a)):Object(s.f)(t.isLeafNode(),\"A child remove without an old child only makes sense on a leaf node\"):a.isEmpty()?o.trackChildChange(ve.childAddedChange(e,n)):o.trackChildChange(ve.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(It,(function(t,r){e.hasChild(t)||n.trackChildChange(ve.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(It,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ve.childChangedChange(e,r,i))}else n.trackChildChange(ve.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Wt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),me=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(s.f)(e===ve.CHILD_ADDED||e===ve.CHILD_CHANGED||e===ve.CHILD_REMOVED,\"Only child changes supported for tracking\"),Object(s.f)(\".priority\"!==n,\"Only non-priority child changes can be tracked.\");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===ve.CHILD_ADDED&&i===ve.CHILD_REMOVED)this.changeMap.set(n,ve.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===ve.CHILD_REMOVED&&i===ve.CHILD_ADDED)this.changeMap.delete(n);else if(e===ve.CHILD_REMOVED&&i===ve.CHILD_CHANGED)this.changeMap.set(n,ve.childRemovedChange(n,r.oldSnap));else if(e===ve.CHILD_CHANGED&&i===ve.CHILD_ADDED)this.changeMap.set(n,ve.childAddedChange(n,t.snapshotNode));else{if(e!==ve.CHILD_CHANGED||i!==ve.CHILD_CHANGED)throw Object(s.g)(\"Illegal combination of changes: \"+t+\" occurred after \"+r);this.changeMap.set(n,ve.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Ce=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),be=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new _e(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Ee=function(t,e){this.viewCache=t,this.changes=e},we=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){Object(s.f)(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),\"Event snap not indexed\"),Object(s.f)(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),\"Server snap not indexed\")},t.prototype.applyOperation=function(e,n,r,i){var o,a,h=new me;if(n.type===oe.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(e,u.path,u.snap,r,i,h):(Object(s.f)(u.source.fromServer,\"Unknown source.\"),a=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(e,u.path,u.snap,r,i,a,h))}else if(n.type===oe.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(e,c.path,c.children,r,i,h):(Object(s.f)(c.source.fromServer,\"Unknown source.\"),a=c.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,c.path,c.children,r,i,a,h))}else if(n.type===oe.ACK_USER_WRITE){var l=n;o=l.revert?this.revertUserWrite_(e,l.path,r,i,h):this.ackUserWrite_(e,l.path,l.affectedTree,r,i,h)}else{if(n.type!==oe.LISTEN_COMPLETE)throw Object(s.g)(\"Unknown operation type: \"+n.type);o=this.listenComplete_(e,n.path,r,h)}var p=h.getChanges();return t.maybeAddValueEvent_(e,o,p),new Ee(o,p)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ve.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,h=void 0;if(e.isEmpty())if(Object(s.f)(t.getServerCache().isFullyInitialized(),\"If change path is empty, we must have complete server data\"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),c=u instanceof Wt?u:Wt.EMPTY_NODE,l=n.calcCompleteEventChildren(c);a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var p=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),p,i)}else{var d=e.getFront();if(\".priority\"===d){Object(s.f)(1===e.getLength(),\"Can't have a priority with additional path components\");var f=o.getNode();h=t.getServerCache().getNode();var _=n.calcEventCacheAfterServerOverwrite(e,f,h);a=null!=_?this.filter_.updatePriority(f,_):o.getNode()}else{var y=e.popFront(),v=void 0;if(o.isCompleteForChild(d)){h=t.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),h);v=null!=g?o.getNode().getImmediateChild(d).updateChild(y,g):o.getNode().getImmediateChild(d)}else v=n.calcCompleteChild(d,t.getServerCache());a=null!=v?this.filter_.updateChild(o.getNode(),d,v,y,r,i):o.getNode()}}return t.updateEventSnap(a,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a,h=t.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=u.updateFullNode(h.getNode(),n,null);else if(u.filtersNodes()&&!h.isFiltered()){var c=h.getNode().updateChild(e,n);a=u.updateFullNode(h.getNode(),c,null)}else{var l=e.getFront();if(!h.isCompleteForPath(e)&&e.getLength()>1)return t;var p=e.popFront(),d=h.getNode().getImmediateChild(l).updateChild(p,n);a=\".priority\"===l?u.updatePriority(h.getNode(),d):u.updateChild(h.getNode(),l,d,p,Ce,null)}var f=t.updateServerSnap(a,h.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),_=new be(r,f,i);return this.generateEventCacheAfterServerEvent_(f,e,r,_,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,h=t.getEventCache(),u=new be(r,t,i);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var c=e.getFront();if(\".priority\"===c)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,h.isFullyInitialized(),h.isFiltered());else{var l=e.popFront(),p=h.getNode().getImmediateChild(c),d=void 0;if(l.isEmpty())d=n;else{var f=u.getCompleteChild(c);d=null!=f?\".priority\"===l.getBack()&&f.getChild(l.parent()).isEmpty()?f:f.updateChild(l,n):Wt.EMPTY_NODE}if(p.equals(d))s=t;else{var _=this.filter_.updateChild(h.getNode(),c,d,l,u,o);s=t.updateEventSnap(_,h.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var a=this,h=e;return r.foreach((function(r,u){var c=n.child(r);t.cacheHasChild_(e,c.getFront())&&(h=a.applyUserOverwrite_(h,c,u,i,o,s))})),r.foreach((function(r,u){var c=n.child(r);t.cacheHasChild_(e,c.getFront())||(h=a.applyUserOverwrite_(h,c,u,i,o,s))})),h},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var h,u=t;h=e.isEmpty()?n:le.Empty.setTree(e,n);var c=t.getServerCache().getNode();return h.children.inorderTraversal((function(e,n){if(c.hasChild(e)){var h=t.getServerCache().getNode().getImmediateChild(e),l=a.applyMerge_(h,n);u=a.applyServerOverwrite_(u,new q(e),l,r,i,o,s)}})),h.children.inorderTraversal((function(e,n){var h=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!c.hasChild(e)&&!h){var l=t.getServerCache().getNode().getImmediateChild(e),p=a.applyMerge_(l,n);u=a.applyServerOverwrite_(u,new q(e),p,r,i,o,s)}})),u},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(e.isEmpty()){var h=le.Empty;return a.getNode().forEachChild(gt,(function(t,e){h=h.set(new q(t),e)})),this.applyServerMerge_(t,e,h,r,i,s,o)}return t}var u=le.Empty;return n.foreach((function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(u=u.set(t,a.getNode().getChild(r)))})),this.applyServerMerge_(t,e,u,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,Ce,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a=new be(n,t,r),h=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||\".priority\"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var l=t.getServerCache().getNode();Object(s.f)(l instanceof Wt,\"serverChildren would be complete if leaf node\"),c=n.calcCompleteEventChildren(l)}c=c,u=this.filter_.updateFullNode(h,c,i)}else{var p=e.getFront(),d=n.calcCompleteChild(p,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(p)&&(d=h.getImmediateChild(p)),(u=null!=d?this.filter_.updateChild(h,p,d,e.popFront(),a,i):t.getEventCache().getNode().hasChild(p)?this.filter_.updateChild(h,p,Wt.EMPTY_NODE,e.popFront(),a,i):h).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(q.Empty),t.updateEventSnap(u,o,this.filter_.filtersNodes())},t}(),Te=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===ve.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(ve.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,ve.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,ve.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,ve.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,ve.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,ve.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,s=n.filter((function(t){return t.type===e}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return\"value\"===t.type||\"child_removed\"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw Object(s.g)(\"Should only compare child_ events.\");var n=new _t(t.childName,t.snapshotNode),r=new _t(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Oe=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new ge(n.getIndex()),i=n.getNodeFilter();this.processor_=new we(i);var o=e.getServerCache(),s=e.getEventCache(),a=r.updateFullNode(Wt.EMPTY_NODE,o.getNode(),null),h=i.updateFullNode(Wt.EMPTY_NODE,s.getNode(),null),u=new _e(a,o.isFullyInitialized(),r.filtersNodes()),c=new _e(h,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ye(c,u),this.eventGenerator_=new Te(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){Object(s.f)(null==t,\"A cancel should cancel all event registrations.\");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)}))}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===oe.MERGE&&null!==t.source.queryId&&(Object(s.f)(this.viewCache_.getCompleteServerSnap(),\"We should always have a full cache before handling merges\"),Object(s.f)(this.viewCache_.getCompleteEventSnap(),\"Missing event cache, even though we have a server cache\"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),Object(s.f)(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),\"Once a server snap is complete, it should never go back\"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(It,(function(t,e){n.push(ve.childAddedChange(t,e))}));return e.isFullyInitialized()&&n.push(ve.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),Se=function(){function t(){this.views=new Map}return Object.defineProperty(t,\"__referenceConstructor\",{get:function(){return Object(s.f)(he,\"Reference.ts has not been loaded\"),he},set:function(t){Object(s.f)(!he,\"__referenceConstructor has already been defined\"),he=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,a=t.source.queryId;if(null!==a){var h=this.views.get(a);return Object(s.f)(null!=h,\"SyncTree gave us an op for an invalid query.\"),h.applyOperation(t,e,n)}var u=[];try{for(var c=Object(o.h)(this.views.values()),l=c.next();!l.done;l=c.next()){h=l.value;u=u.concat(h.applyOperation(t,e,n))}}catch(p){r={error:p}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return u},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),h=!1;a?h=!0:r instanceof Wt?(a=n.calcCompleteEventChildren(r),h=!1):(a=Wt.EMPTY_NODE,h=!1);var u=new ye(new _e(a,h,!1),new _e(r,i,!1));s=new Oe(t,u),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,s,a=e.queryIdentifier(),h=[],u=[],c=this.hasCompleteView();if(\"default\"===a)try{for(var l=Object(o.h)(this.views.entries()),p=l.next();!p.done;p=l.next()){var d=Object(o.e)(p.value,2),f=d[0],_=d[1];u=u.concat(_.removeEventRegistration(n,r)),_.isEmpty()&&(this.views.delete(f),_.getQuery().getQueryParams().loadsAllData()||h.push(_.getQuery()))}}catch(y){i={error:y}}finally{try{p&&!p.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}else(_=this.views.get(a))&&(u=u.concat(_.removeEventRegistration(n,r)),_.isEmpty()&&(this.views.delete(a),_.getQuery().getQueryParams().loadsAllData()||h.push(_.getQuery())));return c&&!this.hasCompleteView()&&h.push(new t.__referenceConstructor(e.repo,e.path)),{removed:h,events:u}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=Object(o.h)(this.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;s.getQuery().getQueryParams().loadsAllData()||n.push(s)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=Object(o.h)(this.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r||a.getCompleteServerCache(t)}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=Object(o.h)(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Ie=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new le(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=q.relativePath(i,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(i,o))}var a=new le(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return j(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,le.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(q.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(It,(function(e,n){t.push(new _t(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new _t(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new le(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){\".priority\"===n?(Object(s.f)(null!==o.value,\"Priority writes must always be leaf nodes\"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(\".priority\"),i)),r}(q.Empty,this.writeTree_,t)},t.Empty=new t(new le(null)),t}();var Ne=function(){function t(){this.visibleWrites_=Ie.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Pe(t,this)},t.prototype.addOverwrite=function(t,e,n,r){Object(s.f)(n>this.lastWriteId_,\"Stacking an older write on top of newer ones\"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){Object(s.f)(n>this.lastWriteId_,\"Stacking an older merge on top of newer ones\"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));Object(s.f)(n>=0,\"removeWrite called with nonexistent writeId.\");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&a>=0;){var h=this.allWrites_[a];h.visible&&(a>=n&&this.recordContainsPath_(h,r.path)?i=!1:r.path.contains(h.path)&&(o=!0)),a--}if(i){if(o)return this.resetTree_(),!0;r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):j(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}));return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(q.Empty)){var s=t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e);u=n||Wt.EMPTY_NODE;return s.apply(u)}return null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var h=this.visibleWrites_.childCompoundWrite(e);if(h.isEmpty())return n;if(null!=n||h.hasCompleteWrite(q.Empty)){var u=n||Wt.EMPTY_NODE;return h.apply(u)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Wt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(It,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(It,(function(t,e){var r=i.childCompoundWrite(new q(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){Object(s.f)(n||r,\"Either existingEventSnap or existingServerSnap must exist\");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(t),h=a.getCompleteNode(q.Empty);if(null!=h)s=h;else{if(null==e)return[];s=a.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var u=[],c=o.getCompare(),l=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),p=l.getNext();p&&u.length<r;)0!==c(p,n)&&u.push(p),p=l.getNext();return u},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,q.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Ie.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,h=void 0;if(o.snap)n.contains(a)?(h=q.relativePath(n,a),r=r.addWrite(h,o.snap)):a.contains(n)&&(h=q.relativePath(a,n),r=r.addWrite(q.Empty,o.snap.getChild(h)));else{if(!o.children)throw Object(s.g)(\"WriteRecord should have .snap or .children\");if(n.contains(a))h=q.relativePath(n,a),r=r.addWrites(h,o.children);else if(a.contains(n))if((h=q.relativePath(a,n)).isEmpty())r=r.addWrites(q.Empty,o.children);else{var u=Object(s.G)(o.children,h.getFront());if(u){var c=u.getChild(h.popFront());r=r.addWrite(q.Empty,c)}}}}}return r},t}(),Pe=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Re=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=le.Empty,this.pendingWriteTree_=new Ne,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new de(ue.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=le.fromObject(e);return this.applyOperationToSyncPoints_(new fe(ue.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=le.Empty;return null!=n.snap?r=r.set(q.Empty,!0):j(n.children,(function(t,e){r=r.set(new q(t),e)})),this.applyOperationToSyncPoints_(new ce(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new de(ue.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=le.fromObject(e);return this.applyOperationToSyncPoints_(new fe(ue.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new pe(ue.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,h=q.relativePath(s,e),u=new de(ue.forServerTaggedQuery(a),h,n);return this.applyTaggedOperation_(s,u)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,h=q.relativePath(s,e),u=le.fromObject(n),c=new fe(ue.forServerTaggedQuery(a),h,u);return this.applyTaggedOperation_(s,c)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,s=i.queryId,a=q.relativePath(o,e),h=new pe(ue.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,h)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=q.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var a,h=this.syncPointTree_.get(r);(h?(o=o||h.hasCompleteView(),i=i||h.getCompleteServerCache(q.Empty)):(h=new Se,this.syncPointTree_=this.syncPointTree_.set(r,h)),null!=i)?a=!0:(a=!1,i=Wt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(q.Empty);n&&(i=i.updateImmediateChild(t,n))})));var u=h.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);Object(s.f)(!this.queryToTagMap.has(c),\"View does not exist, but we have a tag\");var l=t.getNextQueryTag_();this.queryToTagMap.set(c,l),this.tagToQueryMap.set(l,c)}var p=this.pendingWriteTree_.childWrites(r),d=h.addEventRegistration(e,n,p,i,a);if(!u&&!o){var f=h.viewForQuery(e);d=d.concat(this.setupListener_(e,f))}return d},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&(\"default\"===e.queryIdentifier()||s.viewExistsForQuery(e))){var h=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=h.removed;a=h.events;var c=-1!==u.findIndex((function(t){return t.getQueryParams().loadsAllData()})),l=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(c&&!l){var p=this.syncPointTree_.subtree(o);if(!p.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(p),f=0;f<d.length;++f){var _=d[f],y=_.getQuery(),v=this.createListenerForView_(_);this.listenProvider_.startListening(t.queryForListening_(y),this.tagForQuery_(y),v.hashFn,v.onComplete)}}if(!l&&u.length>0&&!r)if(c){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else u.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}));this.removeTags_(u)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=q.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),j(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),h=this.syncPointTree_.subtree(r);if(i)Object(s.f)(!h.value.hasCompleteView(),\"If we're adding a query, it shouldn't be shadowed\");else for(var u=h.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),j(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<u.length;++c){var l=u[c];this.listenProvider_.stopListening(t.queryForListening_(l),this.tagForQuery_(l))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Wt.EMPTY_NODE).hash()},onComplete:function(t){if(\"ok\"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n=\"Unknown Error\";\"too_big\"===t?n=\"The data requested exceeds the maximum size that can be accessed with a single request.\":\"permission_denied\"===t?n=\"Client doesn't have permission to access the desired data.\":\"unavailable\"===t&&(n=\"The service is unavailable\");var r=new Error(t+\" at \"+e.path.toString()+\": \"+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+\"$\"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf(\"$\");return Object(s.f)(-1!==e&&e<t.length-1,\"Bad queryKey.\"),{queryId:t.substr(e+1),path:new q(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);Object(s.f)(n,\"Missing sync point for query tag that we're tracking\");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(q.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(q.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(q.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),h=e.children.get(s);if(h&&a){var u=n?n.getImmediateChild(s):null,c=r.child(s);o=o.concat(this.applyOperationHelper_(a,h,u,c))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(q.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(q.Empty));var s=[];return e.children.inorderTraversal((function(e,o){var a=n?n.getImmediateChild(e):null,h=r.child(e),u=t.operationForChild(e);u&&(s=s.concat(i.applyOperationDescendantsHelper_(u,o,a,h)))})),o&&(s=s.concat(o.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}(),De=function(){function t(){this.rootNode_=Wt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),xe=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(s.k)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(s.m)(this.counters_)},t}(),ke=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new xe),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),je=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(o.a)({},t);return this.last_&&j(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Fe=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new je(t);var n=1e4+2e4*Math.random();W(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;j(e,(function(e,i){i>0&&Object(s.k)(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),W(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ae=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Le(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Le=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();g&&b(\"event: \"+e.toString()),M(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Me=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(s.f)(Array.isArray(t)&&t.length>0,\"Requires a non-empty array\")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(o.f)(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(s.f)(this.allowedEvents_.find((function(e){return e===t})),\"Unknown event: \"+t)},t}(),We=function(t){function e(){var e,n,r=t.call(this,[\"visible\"])||this;return\"undefined\"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n=\"visibilitychange\",e=\"hidden\"):void 0!==document.mozHidden?(n=\"mozvisibilitychange\",e=\"mozHidden\"):void 0!==document.msHidden?(n=\"msvisibilitychange\",e=\"msHidden\"):void 0!==document.webkitHidden&&(n=\"webkitvisibilitychange\",e=\"webkitHidden\")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger(\"visible\",t))}),!1),r}return Object(o.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(s.f)(\"visible\"===t,\"Unknown event type: \"+t),[this.visible_]},e}(Me),qe=function(t){function e(){var e=t.call(this,[\"online\"])||this;return e.online_=!0,\"undefined\"==typeof window||void 0===window.addEventListener||Object(s.x)()||(window.addEventListener(\"online\",(function(){e.online_||(e.online_=!0,e.trigger(\"online\",!0))}),!1),window.addEventListener(\"offline\",(function(){e.online_&&(e.online_=!1,e.trigger(\"online\",!1))}),!1)),e}return Object(o.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(s.f)(\"online\"===t,\"Unknown event type: \"+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Me),Qe=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&M((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),\"break\";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if(\"break\"===r())break}},t}(),Ue=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(t),this.stats_=ke.getCollection(e),this.urlFn=function(t){return e.connectionURL(\"long_polling\",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Qe(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_(\"Timed out trying to connect.\"),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Object(s.z)()||\"complete\"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener(\"DOMContentLoaded\",n,!1),window.addEventListener(\"load\",n,!1)):document.attachEvent&&(document.attachEvent(\"onreadystatechange\",(function(){\"complete\"===document.readyState&&n()})),window.attachEvent(\"onload\",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Ve((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.e)(t,5),i=r[0],s=r[1],a=r[2];r[3],r[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,\"start\"===i)n.id=s,n.password=a;else{if(\"close\"!==i)throw new Error(\"Unrecognized command received: \"+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.e)(t,2),i=r[0],s=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)}),(function(){n.onClosed_()}),n.urlFn);var t={start:\"t\"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v=\"5\",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),\"undefined\"!=typeof location&&location.href&&-1!==location.href.indexOf(\"firebaseio.com\")&&(t.r=\"f\");var e=n.urlFn(t);n.log_(\"Connecting via long-poll to \"+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!Object(s.z)()&&(!!t.forceAllow_||!(t.forceDisallow_||\"undefined\"==typeof document||null==document.createElement||\"object\"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||\"object\"==typeof Windows&&\"object\"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_(\"Longpoll is closing itself\"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_(\"Longpoll is being closed.\"),this.shutdown_())},t.prototype.send=function(t){var e=Object(s.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter(\"bytes_sent\",e.length);for(var n=Object(s.i)(e),r=k(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(s.z)()){this.myDisconnFrame=document.createElement(\"iframe\");var n={dframe:\"t\"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display=\"none\",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(s.J)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter(\"bytes_received\",e)},t}(),Ve=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(s.z)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=_(),window[\"pLPCommand\"+this.uniqueCallbackIdentifier]=e,window[\"pRTLPCB\"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o=\"\";if(this.myIFrame.src&&\"javascript:\"===this.myIFrame.src.substr(0,\"javascript:\".length))o='<script>document.domain=\"'+document.domain+'\";<\\/script>';var a=\"<html><body>\"+o+\"</body></html>\";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(h){b(\"frame writing exception\"),h.stack&&b(h.stack),b(h)}}}return t.createIFrame_=function(){var t=document.createElement(\"iframe\");if(t.style.display=\"none\",!document.body)throw\"Document body has not initialized. Wait to initialize Firebase until after the document is ready.\";document.body.appendChild(t);try{t.contentWindow.document||b(\"No IE domain setting required\")}catch(n){var e=document.domain;t.src=\"javascript:void((function(){document.open();document.domain='\"+e+\"';document.close();})())\"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML=\"\",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n=\"\",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+\"&seg\"+r+\"=\"+i.seg+\"&ts\"+r+\"=\"+i.ts+\"&d\"+r+\"=\"+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;Object(s.z)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement(\"script\");r.type=\"text/javascript\",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&\"loaded\"!==t&&\"complete\"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){b(\"Long-poll script failed to load: \"+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),He=\"\";function Ke(t){He=t}var Be=null;\"undefined\"!=typeof MozWebSocket?Be=MozWebSocket:\"undefined\"!=typeof WebSocket&&(Be=WebSocket);var ze=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=ke.getCollection(n),this.connURL=e.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,e,n){var r={v:\"5\"};return!Object(s.z)()&&\"undefined\"!=typeof location&&location.href&&-1!==location.href.indexOf(\"firebaseio.com\")&&(r.r=\"f\"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(\"websocket\",r)},e.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_(\"Websocket connecting to \"+this.connURL),this.everConnected_=!1,p.set(\"previous_websocket_failure\",!0);try{if(Object(s.z)()){var i=this.nodeAdmin?\"AdminNode\":\"Node\",o={headers:{\"User-Agent\":\"Firebase/5/\"+He+\"/\"+t.platform+\"/\"+i,\"X-Firebase-GMPID\":this.applicationId||\"\"}},a={},h=0===this.connURL.indexOf(\"wss://\")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;h&&(o.proxy={origin:h}),this.mySock=new Be(this.connURL,[],o)}else{o={headers:{\"X-Firebase-GMPID\":this.applicationId||\"\"}};this.mySock=new Be(this.connURL,[],o)}}catch(c){this.log_(\"Error instantiating WebSocket.\");var u=c.message||c.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){r.log_(\"Websocket connected.\"),r.everConnected_=!0},this.mySock.onclose=function(){r.log_(\"Websocket connection was disconnected.\"),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_(\"WebSocket error.  Closing connection.\");var e=t.message||t.data;e&&r.log_(e),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(\"undefined\"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Be&&!e.forceDisallow_},e.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get(\"previous_websocket_failure\")},e.prototype.markConnectionHealthy=function(){p.remove(\"previous_websocket_failure\")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join(\"\");this.frames=null;var n=Object(s.D)(e);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(Object(s.f)(null===this.frames,\"We already have a frame buffer\"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter(\"bytes_received\",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(t){this.resetKeepAlive();var e=Object(s.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter(\"bytes_sent\",e.length);var n=k(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_(\"WebSocket is closing itself\"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_(\"WebSocket is being closed\"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_(\"0\"),t.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_(\"Exception thrown from WebSocket.send():\",e.message||e.data,\"Closing connection.\"),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),Ye=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,\"ALL_TRANSPORTS\",{get:function(){return[Ue,ze]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=ze&&ze.isAvailable(),s=i&&!ze.previouslyFailed();if(e.webSocketOnly&&(i||O(\"wss:// URL used, but browser isn't known to support websockets.  Trying anyway.\"),s=!0),s)this.transports_=[ze];else{var a=this.transports_=[];try{for(var h=Object(o.h)(t.ALL_TRANSPORTS),u=h.next();!u.done;u=h.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error(\"No transports available\")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Ge=function(){function t(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E(\"c:\"+this.id+\":\"),this.transportManager_=new Ye(e),this.log_(\"Connection created\"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=W((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_(\"Connection exceeded healthy timeout but has received \"+t.conn_.bytesReceived+\" bytes.  Marking connection healthy.\"),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_(\"Connection exceeded healthy timeout but has sent \"+t.conn_.bytesSent+\" bytes.  Leaving connection alive.\"):(t.log_(\"Closing unhealthy connection after timeout.\"),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return\"c:\"+this.id+\":\"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_(\"Secondary connection lost.\"),e.onSecondaryConnectionLost_()):e.log_(\"closing an old connection\")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_(\"message on old connection\"))}},t.prototype.sendRequest=function(t){var e={t:\"d\",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_(\"cleaning up and promoting a connection: \"+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if(\"t\"in t){var e=t.t;\"a\"===e?this.upgradeIfSecondaryHealthy_():\"r\"===e?(this.log_(\"Got a reset on secondary, closing it\"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):\"o\"===e&&(this.log_(\"got pong on secondary.\"),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=D(\"t\",t),n=D(\"d\",t);if(\"c\"===e)this.onSecondaryControl_(n);else{if(\"d\"!==e)throw new Error(\"Unknown protocol layer: \"+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_(\"Secondary connection is healthy.\"),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_(\"sending ping on secondary.\"),this.secondaryConn_.send({t:\"c\",d:{t:\"p\",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_(\"sending client ack on secondary\"),this.secondaryConn_.send({t:\"c\",d:{t:\"a\",d:{}}}),this.log_(\"Ending transmission on primary\"),this.conn_.send({t:\"c\",d:{t:\"n\",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=D(\"t\",t),n=D(\"d\",t);\"c\"===e?this.onControl_(n):\"d\"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_(\"Primary connection is healthy.\"),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=D(\"t\",t);if(\"d\"in t){var n=t.d;if(\"h\"===e)this.onHandshake_(n);else if(\"n\"===e){this.log_(\"recvd end transmission on primary\"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else\"s\"===e?this.onConnectionShutdown_(n):\"r\"===e?this.onReset_(n):\"e\"===e?w(\"Server Error: \"+n):\"o\"===e?(this.log_(\"got pong on primary.\"),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):w(\"Unknown control packet command: \"+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),\"5\"!==n&&O(\"Protocol version mismatch detected\"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),W((function(){e.secondaryConn_&&(e.log_(\"Timed out trying to upgrade.\"),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_(\"Reset packet received.  New host: \"+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_(\"Realtime connection established.\"),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_(\"Primary connection is healthy.\"),this.isHealthy_=!0):W((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_(\"sending ping on primary.\"),this.sendData_({t:\"c\",d:{t:\"p\",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_(\"Realtime connection lost.\"):(this.log_(\"Realtime connection failed.\"),this.repoInfo_.isCacheableHost()&&(p.remove(\"host:\"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_(\"Connection shutdown command received. Shutting down...\"),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw\"Connection is not connected\";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_(\"Closing realtime connection.\"),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_(\"Shutting down all connections\"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Xe=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Je=function(t){function e(n,r,i,o,a,h,u){var c=t.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=a,c.authTokenProvider_=h,c.authOverride_=u,c.id=e.nextPersistentConnectionId_++,c.log_=E(\"p:\"+c.id+\":\"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=1e3,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!Object(s.z)())throw new Error(\"Auth override specified in options, but not supported on non Node.js platforms\");return c.scheduleConnect_(0),We.getInstance().on(\"visible\",c.onVisible_,c),-1===n.host.indexOf(\"fblocal\")&&qe.getInstance().on(\"online\",c.onOnline_,c),c}return Object(o.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(s.J)(i)),Object(s.f)(this.connected_,\"sendRequest call when we're not connected not allowed.\"),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_(\"Listen called for \"+o+\" \"+i),this.listens.has(o)||this.listens.set(o,new Map),Object(s.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),\"listen() called for non-default but complete query\"),Object(s.f)(!this.listens.get(o).has(i),\"listen() called twice for same path/queryId.\");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_(\"Listen on \"+i+\" for \"+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest(\"q\",s,(function(s){var a=s.d,h=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_(\"listen response\",s),\"ok\"!==h&&n.removeListen_(i,o),t.onComplete&&t.onComplete(h,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&\"object\"==typeof t&&Object(s.k)(t,\"w\")){var n=Object(s.G)(t,\"w\");if(Array.isArray(n)&&~n.indexOf(\"no_index\")){var r='\".indexOn\": \"'+e.getQueryParams().getIndex().toString()+'\"',i=e.path.toString();O(\"Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding \"+r+\" at \"+i+\" to your security rules for better performance.\")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_(\"Auth token refreshed\"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest(\"unauth\",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(s.q)(t))&&(this.log_(\"Admin auth credential detected.  Reducing max reconnect time.\"),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(s.C)(e)?\"auth\":\"gauth\",r={cred:e};null===this.authOverride_?r.noauth=!0:\"object\"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||\"error\";t.authToken_===e&&(\"ok\"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_(\"Unlisten called for \"+n+\" \"+r),Object(s.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),\"unlisten() called for non-default but complete query\"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_(\"Unlisten on \"+t+\" for \"+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest(\"n\",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_(\"o\",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:\"o\",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_(\"om\",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:\"om\",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_(\"oc\",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:\"oc\",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_(\"onDisconnect \"+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal(\"p\",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal(\"m\",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_(\"Buffering put: \"+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+\" response\",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_(\"reportStats\",n),this.sendRequest(\"s\",n,(function(t){if(\"ok\"!==t.s){var n=t.d;e.log_(\"reportStats\",\"Error sending stats: \"+n)}}))}},e.prototype.onDataMessage_=function(t){if(\"r\"in t){this.log_(\"from server: \"+Object(s.J)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if(\"error\"in t)throw\"A server-side error has occurred: \"+t.error;\"a\"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_(\"handleServerMessage\",t,e),\"d\"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):\"m\"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):\"c\"===t?this.onListenRevoked_(e.p,e.q):\"ac\"===t?this.onAuthRevoked_(e.s,e.d):\"sd\"===t?this.onSecurityDebugPacket_(e):w(\"Unrecognized action received from server: \"+Object(s.J)(t)+\"\\nAre you using the latest client?\")},e.prototype.onReady_=function(t,e){this.log_(\"connection ready\"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(s.f)(!this.realtime_,\"Scheduling a connect when we're already connected/ing?\"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_(\"Window became visible.  Reducing delay.\"),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_(\"Browser went online.\"),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_(\"Browser went offline.  Killing connection.\"),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_(\"data client disconnected\"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_(\"Window isn't visible.  Delaying reconnect.\"),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_(\"Trying to reconnect in \"+e+\"ms\"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_(\"Making a connection attempt\"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+\":\"+e.nextConnectionId_++,a=this,h=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,i())};this.realtime_={close:l,sendRequest:function(t){Object(s.f)(c,\"sendRequest call when we're not connected not allowed.\"),c.sendRequest(t)}};var p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(p).then((function(t){u?b(\"getToken() completed but was canceled\"):(b(\"getToken() completed. Creating connection.\"),a.authToken_=t&&t.accessToken,c=new Ge(o,a.repoInfo_,a.applicationId_,n,r,i,(function(t){O(t+\" (\"+a.repoInfo_.toString()+\")\"),a.interrupt(\"server_kill\")}),h))})).then(null,(function(e){a.log_(\"Failed to get token: \"+e),u||(t.repoInfo_.nodeAdmin&&O(e),l())}))}},e.prototype.interrupt=function(t){b(\"Interrupting connection for reason: \"+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){b(\"Resuming connection for reason: \"+t),delete this.interruptReasons_[t],Object(s.u)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&\"h\"in e.request&&e.queued&&(e.onComplete&&e.onComplete(\"disconnect\"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return x(t)})).join(\"$\"):\"default\";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete(\"permission_denied\")},e.prototype.removeListen_=function(t,e){var n,r=new q(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){b(\"Auth token revoked: \"+t+\"/\"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),\"invalid_token\"!==t&&\"permission_denied\"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):\"msg\"in t&&console.log(\"FIREBASE: \"+t.msg.replace(\"\\n\",\"\\nFIREBASE: \"))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=Object(o.h)(this.listens.values()),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var h=(n=void 0,Object(o.h)(a.values())),u=h.next();!u.done;u=h.next()){var c=u.value;this.sendListen_(c)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var p=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(p.action,p.pathString,p.data,p.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e=\"js\";Object(s.z)()&&(e=this.repoInfo_.nodeAdmin?\"admin_node\":\"node\"),t[\"sdk.\"+e+\".\"+He.replace(/\\./g,\"-\")]=1,Object(s.x)()?t[\"framework.cordova\"]=1:Object(s.A)()&&(t[\"framework.reactnative\"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=qe.getInstance().currentlyOnline();return Object(s.u)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Xe),$e=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=E(\"p:rest:\"),i.listens_={},i}return Object(o.c)(e,t),e.prototype.reportStats=function(t){throw new Error(\"Method not implemented.\")},e.getListenId_=function(t,e){return void 0!==e?\"tag$\"+e:(Object(s.f)(t.getQueryParams().isDefault(),\"should have a tag if it's not a default query.\"),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t.path.toString();this.log_(\"Listen called for \"+a+\" \"+t.queryIdentifier());var h=e.getListenId_(t,r),u={};this.listens_[h]=u;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+\".json\",c,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),Object(s.G)(o.listens_,h)===u)&&i(t?401===t?\"permission_denied\":\"rest_error:\"+t:\"ok\",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format=\"export\",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(e.auth=o);var a=(r.repoInfo_.secure?\"https://\":\"http://\")+r.repoInfo_.host+t+\"?ns=\"+r.repoInfo_.namespace+Object(s.F)(e);r.log_(\"Sending REST request for \"+a);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_(\"REST Response for \"+a+\" received. status:\",h.status,\"response:\",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=Object(s.D)(h.responseText)}catch(e){O(\"Failed to parse JSON response for \"+a+\": \"+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&O(\"Got unsuccessful REST response for \"+a+\" Status: \"+h.status),n(h.status);n=null}},h.open(\"GET\",a,!0),h.send()}))},e}(Xe),Ze=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ae,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new se,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.start=function(){var t=this;if(this.stats_=ke.getCollection(this.repoInfo_),this.forceRestClient_||(\"object\"==typeof window&&window.navigator&&window.navigator.userAgent||\"\").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new $e(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var e=this.app.options.databaseAuthVariableOverride;if(null!=e){if(\"object\"!=typeof e)throw new Error(\"Only objects are supported for option databaseAuthVariableOverride\");try{Object(s.J)(e)}catch(n){throw new Error(\"Invalid authOverride provided: \"+n)}}this.persistentConnection_=new Je(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,e),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),this.statsReporter_=ke.getOrCreateReporter(this.repoInfo_,(function(){return new Fe(t.stats_,t.server_)})),this.transactionsInit_(),this.infoData_=new De,this.infoSyncTree_=new Re({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e.path);return s.isEmpty()||(o=t.infoSyncTree_.applyServerOverwrite(e.path,s),setTimeout((function(){i(\"ok\")}),0)),o},stopListening:function(){}}),this.updateInfo_(\"connected\",!1),this.serverSyncTree_=new Re({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);t.eventQueue_.raiseEventsForChangedPath(e.path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})},t.prototype.toString=function(){return(this.repoInfo_.secure?\"https://\":\"http://\")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new q(\".info/serverTimeOffset\")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new q(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var a=Object(s.E)(e,(function(t){return Qt(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var h=Qt(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,h,r)}else if(n){var u=Object(s.E)(e,(function(t){return Qt(t)}));o=this.serverSyncTree_.applyServerMerge(i,u)}else{var c=Qt(e);o=this.serverSyncTree_.applyServerOverwrite(i,c)}var l=i;o.length>0&&(l=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(l,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_(\"connected\",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;j(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new q(\"/.info/\"+t),r=Qt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_(\"set\",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=Qt(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),h=re(s,a,o),u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(t,h,u,!0);this.eventQueue_.queueEvents(c),this.server_.put(t.toString(),s.val(!0),(function(e,n){var o=\"ok\"===e;o||O(\"set at \"+t+\" failed: \"+e);var s=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(t,s),i.callOnCompleteCallback(r,e,n)}));var l=this.abortTransactions_(t);this.rerunTransactions_(l),this.eventQueue_.raiseEventsForChangedPath(l,[])},t.prototype.update=function(t,e,n){var r=this;this.log_(\"update\",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),s={};if(j(e,(function(e,n){i=!1,s[e]=ne(t.child(e),Qt(n),r.serverSyncTree_,o)})),i)b(\"update() called with empty data.  Don't do anything.\"),this.callOnCompleteCallback(n,\"ok\");else{var a=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserMerge(t,s,a);this.eventQueue_.queueEvents(h),this.server_.merge(t.toString(),e,(function(e,i){var o=\"ok\"===e;o||O(\"update at \"+t+\" failed: \"+e);var s=r.serverSyncTree_.ackUserWrite(a,!o),h=s.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(h,s),r.callOnCompleteCallback(n,e,i)})),j(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_(\"onDisconnectEvents\");var e=this.generateServerValues(),n=new se;this.onDisconnect_.forEachTree(q.Empty,(function(r,i){var o=ne(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(q.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new se,this.eventQueue_.raiseEventsForChangedPath(q.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){\"ok\"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Qt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){\"ok\"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Qt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){\"ok\"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(Object(s.u)(e))return b(\"onDisconnect().update() called with empty data.  Don't do anything.\"),void this.callOnCompleteCallback(n,\"ok\");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){\"ok\"===i&&j(e,(function(e,n){var i=Qt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=\".info\"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=\".info\"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(\"repo_interrupt\")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(\"repo_interrupt\")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),\"undefined\"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new je(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);j(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=\" \";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"\";this.persistentConnection_&&(n=this.persistentConnection_.id+\":\"),b.apply(void 0,Object(o.f)([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&M((function(){if(\"ok\"===e)t(null);else{var r=(e||\"error\").toUpperCase(),i=r;n&&(i+=\": \"+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,\"database\",{get:function(){return this.__database||(this.__database=new pn(this))},enumerable:!1,configurable:!0}),t}(),tn=function(){function t(e){this.indexedFilter_=new ge(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new _t(e,n))||(n=Wt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Wt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Wt.EMPTY_NODE);var i=this;return e.forEachChild(It,(function(t,e){i.matches(new _t(t,e))||(r=r.updateImmediateChild(t,Wt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),en=function(){function t(t){this.rangedFilter_=new tn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new _t(e,n))||(n=Wt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Wt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Wt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Wt.EMPTY_NODE);var a=void 0,h=void 0,u=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();u=function(t,e){return c(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var l=!1;i.hasNext();){s=i.getNext();!l&&u(a,s)<=0&&(l=!0),l&&o<this.limit_&&u(s,h)<=0?o++:r=r.updateImmediateChild(s.name,Wt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var h=t;Object(s.f)(h.numChildren()===this.limit_,\"\");var u=new _t(e,n),c=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(h.hasChild(e)){for(var p=h.getImmediateChild(e),d=r.getChildAfterChild(this.index_,c,this.reverse_);null!=d&&(d.name===e||h.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var f=null==d?1:o(d,u);if(l&&!n.isEmpty()&&f>=0)return null!=i&&i.trackChildChange(ve.childChangedChange(e,n,p)),h.updateImmediateChild(e,n);null!=i&&i.trackChildChange(ve.childRemovedChange(e,p));var _=h.updateImmediateChild(e,Wt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(ve.childAddedChange(d.name,d.node)),_.updateImmediateChild(d.name,d.node)):_}return n.isEmpty()?t:l&&o(c,u)>=0?(null!=i&&(i.trackChildChange(ve.childRemovedChange(c.name,c.node)),i.trackChildChange(ve.childAddedChange(e,n))),h.updateImmediateChild(e,n).updateImmediateChild(c.name,Wt.EMPTY_NODE)):t},t}(),nn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_=\"\",this.indexStartValue_=null,this.indexStartName_=\"\",this.indexEndValue_=null,this.indexEndName_=\"\",this.index_=It}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return\"\"===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return Object(s.f)(this.startSet_,\"Only valid if start has been set\"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(s.f)(this.startSet_,\"Only valid if start has been set\"),this.startNameSet_?this.indexStartName_:I},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(s.f)(this.endSet_,\"Only valid if end has been set\"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(s.f)(this.endSet_,\"Only valid if end has been set\"),this.endNameSet_?this.indexEndName_:N},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&\"\"!==this.viewFrom_},t.prototype.getLimit=function(){return Object(s.f)(this.limitSet_,\"Only valid if limit has been set\"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=\"\",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=\"\"),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=\"\"),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;\"\"===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==It&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===It},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new ge(this.getIndex()):this.hasLimit()?new en(this):new tn(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===It?e=n.PRIORITY_INDEX:this.index_===Vt?e=n.VALUE_INDEX:this.index_===gt?e=n.KEY_INDEX:(Object(s.f)(this.index_ instanceof Ht,\"Unrecognized index type!\"),e=this.index_.toString()),r[n.ORDER_BY]=Object(s.J)(e),this.startSet_&&(r[n.START_AT]=Object(s.J)(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=\",\"+Object(s.J)(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=Object(s.J)(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=\",\"+Object(s.J)(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:\"sp\",INDEX_START_NAME:\"sn\",INDEX_END_VALUE:\"ep\",INDEX_END_NAME:\"en\",LIMIT:\"l\",VIEW_FROM:\"vf\",VIEW_FROM_LEFT:\"l\",VIEW_FROM_RIGHT:\"r\",INDEX:\"i\"},t.REST_QUERY_CONSTANTS_={ORDER_BY:\"orderBy\",PRIORITY_INDEX:\"$priority\",VALUE_INDEX:\"$value\",KEY_INDEX:\"$key\",START_AT:\"startAt\",END_AT:\"endAt\",LIMIT_TO_FIRST:\"limitToFirst\",LIMIT_TO_LAST:\"limitToLast\"},t.DEFAULT=new t,t}(),rn=function(t){function e(e,n){if(!(e instanceof Ze))throw new Error(\"new Reference() no longer supported - use app.database().\");return t.call(this,e,n,nn.DEFAULT,!1)||this}return Object(o.c)(e,t),e.prototype.getKey=function(){return Object(s.K)(\"Reference.key\",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return Object(s.K)(\"Reference.child\",1,1,arguments.length),\"number\"==typeof t?t=String(t):t instanceof q||(null===this.path.getFront()?ht(\"Reference.child\",1,t,!1):at(\"Reference.child\",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){Object(s.K)(\"Reference.parent\",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){Object(s.K)(\"Reference.root\",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){Object(s.K)(\"Reference.set\",1,2,arguments.length),ut(\"Reference.set\",this.path),et(\"Reference.set\",1,t,this.path,!1),Object(s.L)(\"Reference.set\",2,e,!0);var n=new s.a;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Object(s.K)(\"Reference.update\",1,2,arguments.length),ut(\"Reference.update\",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[\"\"+r]=t[r];t=n,O(\"Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.\")}rt(\"Reference.update\",1,t,this.path,!1),Object(s.L)(\"Reference.update\",2,e,!0);var i=new s.a;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(Object(s.K)(\"Reference.setWithPriority\",2,3,arguments.length),ut(\"Reference.setWithPriority\",this.path),et(\"Reference.setWithPriority\",1,t,this.path,!1),it(\"Reference.setWithPriority\",2,e,!1),Object(s.L)(\"Reference.setWithPriority\",3,n,!0),\".length\"===this.getKey()||\".keys\"===this.getKey())throw\"Reference.setWithPriority failed: \"+this.getKey()+\" is a read-only object.\";var r=new s.a;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return Object(s.K)(\"Reference.remove\",0,1,arguments.length),ut(\"Reference.remove\",this.path),Object(s.L)(\"Reference.remove\",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(Object(s.K)(\"Reference.transaction\",1,3,arguments.length),ut(\"Reference.transaction\",this.path),Object(s.L)(\"Reference.transaction\",1,t,!1),Object(s.L)(\"Reference.transaction\",2,e,!0),lt(\"Reference.transaction\",3,n,!0),\".length\"===this.getKey()||\".keys\"===this.getKey())throw\"Reference.transaction failed: \"+this.getKey()+\" is a read-only object.\";void 0===n&&(n=!0);var r=new s.a;\"function\"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new dt(n,i)),\"function\"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){Object(s.K)(\"Reference.setPriority\",1,2,arguments.length),ut(\"Reference.setPriority\",this.path),it(\"Reference.setPriority\",1,t,!1),Object(s.L)(\"Reference.setPriority\",2,e,!0);var n=new s.a;return this.repo.setWithPriority(this.path.child(\".priority\"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Object(s.K)(\"Reference.push\",0,2,arguments.length),ut(\"Reference.push\",this.path),et(\"Reference.push\",1,t,this.path,!0),Object(s.L)(\"Reference.push\",2,e,!0);var n,r=this.repo.serverTime(),i=ft(r),o=this.child(i),a=this.child(i);return n=null!=t?o.set(t,e).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),\"function\"==typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return ut(\"Reference.onDisconnect\",this.path),new pt(this.repo,this.path)},Object.defineProperty(e.prototype,\"database\",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"key\",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"parent\",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"root\",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Xt);Xt.__referenceConstructor=rn,Se.__referenceConstructor=rn;var on,sn=function(){this.children={},this.childCount=0,this.value=null},an=function(){function t(t,e,n){void 0===t&&(t=\"\"),void 0===e&&(e=null),void 0===n&&(n=new sn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof q?e:new q(e),r=this,i=n.getFront();null!==i;){r=new t(i,r,Object(s.G)(r.node_.children,i)||new sn),i=(n=n.popFront()).getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){Object(s.f)(void 0!==t,\"Cannot set value to undefined\"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;j(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new q(null===this.parent_?this.name_:this.parent_.path()+\"/\"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=Object(s.k)(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]=\"RUN\",t[t.SENT=1]=\"SENT\",t[t.COMPLETED=2]=\"COMPLETED\",t[t.SENT_NEEDS_ABORT=3]=\"SENT_NEEDS_ABORT\",t[t.NEEDS_ABORT=4]=\"NEEDS_ABORT\"}(on||(on={})),Ze.MAX_TRANSACTION_RETRIES_=25,Ze.prototype.transactionsInit_=function(){this.transactionQueueTree_=new an},Ze.prototype.startTransaction=function(t,e,n,r){this.log_(\"transaction on \"+t);var i=function(){},o=new rn(this,t);o.on(\"value\",i);var a={path:t,update:e,onComplete:n,status:null,order:_(),applyLocally:r,retryCount:0,unwatcher:function(){o.off(\"value\",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=this.getLatestState_(t);a.currentInputSnapshot=h;var u=a.update(h.val());if(void 0===u){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var c=new Kt(a.currentInputSnapshot,new rn(this,a.path),It);a.onComplete(null,!1,c)}}else{nt(\"transaction failed: Data returned \",u,a.path),a.status=on.RUN;var l=this.transactionQueueTree_.subTree(t),p=l.getValue()||[];p.push(a),l.setValue(p);var d=void 0;if(\"object\"==typeof u&&null!==u&&Object(s.k)(u,\".priority\"))d=Object(s.G)(u,\".priority\"),Object(s.f)(tt(d),\"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.\");else d=(this.serverSyncTree_.calcCompleteEventCache(t)||Wt.EMPTY_NODE).getPriority().val();d=d;var f=this.generateServerValues(),y=Qt(u,d),v=re(y,h,f);a.currentOutputSnapshotRaw=y,a.currentOutputSnapshotResolved=v,a.currentWriteId=this.getNextWriteId_();var g=this.serverSyncTree_.applyUserOverwrite(t,v,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,g),this.sendReadyTransactions_()}},Ze.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Wt.EMPTY_NODE},Ze.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);Object(s.f)(n.length>0,\"Sending zero length transaction queue\"),n.every((function(t){return t.status===on.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},Ze.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),o=i,a=i.hash(),h=0;h<e.length;h++){var u=e[h];Object(s.f)(u.status===on.RUN,\"tryToSendTransactionQueue_: items in queue should all be run.\"),u.status=on.SENT,u.retryCount++;var c=q.relativePath(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0),p=t;this.server_.put(p.toString(),l,(function(r){n.log_(\"transaction put response\",{path:p.toString(),status:r});var i=[];if(\"ok\"===r){for(var o=[],s=0;s<e.length;s++){if(e[s].status=on.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,h=new rn(n,e[s].path),u=new Kt(a,h,It);o.push(e[s].onComplete.bind(null,null,!0,u))}e[s].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(s=0;s<o.length;s++)M(o[s])}else{if(\"datastale\"===r)for(s=0;s<e.length;s++)e[s].status===on.SENT_NEEDS_ABORT?e[s].status=on.NEEDS_ABORT:e[s].status=on.RUN;else{O(\"transaction at \"+p.toString()+\" failed: \"+r);for(s=0;s<e.length;s++)e[s].status=on.NEEDS_ABORT,e[s].abortReason=r}n.rerunTransactions_(t)}}),a)},Ze.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},Ze.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],i=[],o=t.filter((function(t){return t.status===on.RUN})).map((function(t){return t.currentWriteId})),a=0;a<t.length;a++){var h=t[a],u=q.relativePath(e,h.path),c=!1,l=void 0;if(Object(s.f)(null!==u,\"rerunTransactionsUnderNode_: relativePath should not be null.\"),h.status===on.NEEDS_ABORT)c=!0,l=h.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(h.currentWriteId,!0));else if(h.status===on.RUN)if(h.retryCount>=Ze.MAX_TRANSACTION_RETRIES_)c=!0,l=\"maxretry\",i=i.concat(this.serverSyncTree_.ackUserWrite(h.currentWriteId,!0));else{var p=this.getLatestState_(h.path,o);h.currentInputSnapshot=p;var d=t[a].update(p.val());if(void 0!==d){nt(\"transaction failed: Data returned \",d,h.path);var f=Qt(d);\"object\"==typeof d&&null!=d&&Object(s.k)(d,\".priority\")||(f=f.updatePriority(p.getPriority()));var _=h.currentWriteId,y=this.generateServerValues(),v=re(f,p,y);h.currentOutputSnapshotRaw=f,h.currentOutputSnapshotResolved=v,h.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(_),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(h.path,v,h.currentWriteId,h.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(_,!0))}else c=!0,l=\"nodata\",i=i.concat(this.serverSyncTree_.ackUserWrite(h.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],c&&(t[a].status=on.COMPLETED,n=t[a].unwatcher,setTimeout(n,Math.floor(0)),t[a].onComplete))if(\"nodata\"===l){var g=new rn(this,t[a].path),m=t[a].currentInputSnapshot,C=new Kt(m,g,It);r.push(t[a].onComplete.bind(null,null,!1,C))}else r.push(t[a].onComplete.bind(null,new Error(l),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(a=0;a<r.length;a++)M(r[a]);this.sendReadyTransactions_()}},Ze.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},Ze.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},Ze.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},Ze.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==on.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},Ze.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},Ze.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)if(e[o].status===on.SENT_NEEDS_ABORT);else if(e[o].status===on.SENT)Object(s.f)(i===o-1,\"All SENT items should be at beginning of queue.\"),i=o,e[o].status=on.SENT_NEEDS_ABORT,e[o].abortReason=\"set\";else if(Object(s.f)(e[o].status===on.RUN,\"Unexpected transaction status in abort\"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){n.push(e[o].onComplete.bind(null,new Error(\"set\"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(o=0;o<n.length;o++)M(n[o])}};var hn,un=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&\"auth/token-not-initialized\"===t.code?(b(\"Got auth/token-not-initialized error.  Treating as null token.\"),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named \"'+this.app_.name+'\" are invalid. This usually indicates your app was not initialized correctly. ';\"credential\"in this.app_.options?t+='Make sure the \"credential\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.':\"serviceAccount\"in this.app_.options?t+='Make sure the \"serviceAccount\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.':t+='Make sure the \"apiKey\" and \"databaseURL\" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',O(t)},t}(),cn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN=\"owner\",t}(),ln=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return hn||(hn=new e),hn},e.prototype.interrupt=function(){var t,e,n,r;try{for(var i=Object(o.h)(Object.keys(this.repos_)),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var h=(n=void 0,Object(o.h)(Object.keys(this.repos_[a]))),u=h.next();!u.done;u=h.next()){var c=u.value;this.repos_[a][c].interrupt()}}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},e.prototype.resume=function(){var t,e,n,r;try{for(var i=Object(o.h)(Object.keys(this.repos_)),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var h=(n=void 0,Object(o.h)(Object.keys(this.repos_[a]))),u=h.next();!u.done;u=h.next()){var c=u.value;this.repos_[a][c].resume()}}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},e.prototype.applyEmulatorSettings=function(t,e,n){t.repoInfo_=new U(e+\":\"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new cn)},e.prototype.databaseFromApp=function(e,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||T(\"Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp().\"),b(\"Using default host for project \",e.options.projectId),o=e.options.projectId+\"-default-rtdb.firebaseio.com\");var s,a=Y(o,i),h=a.repoInfo,u=void 0;void 0!==t&&(u={}.FIREBASE_DATABASE_EMULATOR_HOST),u?(s=!0,o=\"http://\"+u+\"?ns=\"+h.namespace,h=(a=Y(o,i)).repoInfo):s=!a.repoInfo.secure;var c=i&&s?new cn:new un(e,n);return ct(\"Invalid Firebase Database URL\",1,a),a.path.isEmpty()||T(\"Database URL must point to the root of a Firebase Database (not including a child path).\"),this.createRepo(h,e,c).database},e.prototype.deleteRepo=function(t){var e=Object(s.G)(this.repos_,t.app.name);e&&Object(s.G)(e,t.key)===t||T(\"Database \"+t.app.name+\"(\"+t.repoInfo_+\") has already been deleted.\"),t.interrupt(),delete e[t.key]},e.prototype.createRepo=function(t,e,n){var r=Object(s.G)(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=Object(s.G)(r,t.toURLString());return i&&T(\"Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.\"),i=new Ze(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},e.prototype.forceRestClient=function(t){this.useRestClient_=t},e}(),pn=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(o.b)(e,void 0,void 0,(function(){return Object(o.d)(this,(function(t){return this.checkDeleted_(\"delete\"),ln.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},t instanceof Ze||T(\"Don't call new Database() directly - please use firebase.database().\")}return Object.defineProperty(t.prototype,\"repo_\",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"root_\",{get:function(){return this.rootInternal_||(this.rootInternal_=new rn(this.repo_,q.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"app\",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_(\"useEmulator\"),this.instanceStarted_?T(\"Cannot call useEmulator() after instance has already been initialized.\"):ln.getInstance().applyEmulatorSettings(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_(\"ref\"),Object(s.K)(\"database.ref\",0,1,arguments.length),t instanceof rn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e=\"database.refFromURL\";this.checkDeleted_(e),Object(s.K)(e,1,1,arguments.length);var n=Y(t,this.repo_.repoInfo_.nodeAdmin);ct(e,1,n);var r=n.repoInfo;return r.isCustomHost()||r.host===this.repo_.repoInfo_.host||T(e+\": Host name does not match the current database: (found \"+r.host+\" but expected \"+this.repo_.repoInfo_.host+\")\"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&T(\"Cannot call \"+t+\" on a deleted database.\")},t.prototype.goOffline=function(){Object(s.K)(\"database.goOffline\",0,0,arguments.length),this.checkDeleted_(\"goOffline\"),this.repo_.interrupt()},t.prototype.goOnline=function(){Object(s.K)(\"database.goOnline\",0,0,arguments.length),this.checkDeleted_(\"goOnline\"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{\".sv\":\"timestamp\"},increment:function(t){return{\".sv\":{increment:t}}}},t}();var dn=Object.freeze({__proto__:null,forceLongPolling:function(){ze.forceDisallow(),Ue.forceAllow()},forceWebSockets:function(){Ue.forceDisallow()},isWebSocketsAvailable:function(){return ze.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,s=t.nodeAdmin,a=void 0!==s&&s;Ke(r);var u=new h.c(\"auth-internal\",new h.b(\"database-standalone\"));return u.setComponent(new h.a(\"auth-internal\",(function(){return i}),\"PRIVATE\")),{instance:ln.getInstance().databaseFromApp(e,u,n,a),namespace:o}}}),fn=Je;Je.prototype.simpleListen=function(t,e){this.sendRequest(\"q\",{p:t},e)},Je.prototype.echo=function(t,e){this.sendRequest(\"echo\",{d:t},e)};var _n=Ge,yn=U,vn=Object.freeze({__proto__:null,DataConnection:fn,RealTimeConnection:_n,hijackHash:function(t){var e=Je.prototype.put;return Je.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Je.prototype.put=e}},ConnectionTarget:yn,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){ln.getInstance().forceRestClient(t)}}),gn=pn.ServerValue;!function(t){Ke(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new h.a(\"database\",(function(t,e){var n=t.getProvider(\"app\").getImmediate(),r=t.getProvider(\"auth-internal\");return ln.getInstance().databaseFromApp(n,r,e)}),\"PUBLIC\").setServiceProps({Reference:rn,Query:Xt,Database:pn,DataSnapshot:Kt,enableLogging:C,INTERNAL:dn,ServerValue:gn,TEST_ACCESS:vn}).setMultipleInstances(!0));t.registerVersion(\"@firebase/database\",\"0.7.1\"),Object(s.z)()&&(e.exports=n)}(i.a)}).call(this,n(\"8oxB\"),n(\"3UD+\")(t))}}]);","extractedComments":["/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */"]}